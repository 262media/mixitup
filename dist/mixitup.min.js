/**!
 * MixItUp v3.0.0-beta
 *
 * @copyright Copyright 2014-2016 KunkaLabs Limited.
 * @author    KunkaLabs Limited.
 * @link      https://kunkalabs.com/mixitup/
 *
 * @license   Commercial use requires a commercial license.
 *            https://kunkalabs.com/mixitup/licenses
 *
 *            Non-commercial use permitted under same terms as  license.
 *            http://creativecommons.org/licenses/by-nc/3.0/
 */
!function(t){"use strict";var e=null,n=null;e=function(i,o,a,s){var r=null,l=null,c=null,u=[],m="",d="",h=[],f=-1;if(c=a||t.document,o&&"object"==typeof o.extensions)for(d in o.extensions)o.extensions[d](e);if((!i||"string"!=typeof i&&"object"!=typeof i)&&n.canReportErrors(o))throw new Error(e.messages[100]);switch(typeof i){case"string":h=c.querySelectorAll(i);break;case"object":n.isElement(i,c)?h=[i]:i.length&&(h=i)}for(f=0;r=h[f];f++)r.id?m=r.id:(m="MixItUp"+n.randomHexKey(),r.id=m),"undefined"==typeof e.Mixer.prototype._instances[m]?(l=new e.Mixer,l._id=m,l._dom.document=a||t.document,l._init(r,o),e.Mixer.prototype._instances[m]=l):e.Mixer.prototype._instances[m]instanceof e.Mixer&&(l=e.Mixer.prototype._instances[m],o&&n.canReportErrors(o)&&console.warn(e.messages[200])),u.push(l);return s?new e.Collection(u):u[0]},e.all=function(t,e,n){var i=this;return i(t,e,n,!0)},n={hasClass:function(t,e){return t.className.match(new RegExp("(\\s|^)"+e+"(\\s|$)"))},addClass:function(t,e){this.hasClass(t,e)||(t.className+=t.className?" "+e:e)},removeClass:function(t,e){if(this.hasClass(t,e)){var n=new RegExp("(\\s|^)"+e+"(\\s|$)");t.className=t.className.replace(n," ").trim()}},extend:function(t,e){var n="";for(n in e)"object"==typeof e[n]&&null!==e[n]&&"undefined"==typeof e[n].length?(t[n]=t[n]||{},this.extend(t[n],e[n])):t[n]=e[n]},on:function(e,n,i,o){e&&(e.attachEvent?(e["e"+n+i]=i,e[n+i]=function(){e["e"+n+i](t.event)},e.attachEvent("on"+n,e[n+i])):e.addEventListener(n,i,o))},off:function(t,e,n){t&&(t.detachEvent?(t.detachEvent("on"+e,t[e+n]),t[e+n]=null):t.removeEventListener(e,n,!1))},triggerCustom:function(e,n,i,o){var a=null;o=o||t.document,"function"==typeof t.CustomEvent?a=new CustomEvent(n,{detail:i}):(a=o.createEvent("CustomEvent"),a.initCustomEvent(n,!0,!0,i)),e.dispatchEvent(a)},index:function(t,e){for(var n=0;null!==(t=t.previousElementSibling);)(!e||t.matches(e))&&++n;return n},camelCase:function(t,e){var n=t.replace(/-([a-z])/g,function(t){return t[1].toUpperCase()});return e?n.charAt(0).toUpperCase()+n.slice(1):n},isElement:function(e,n){return n=n||t.document,t.HTMLElement&&e instanceof HTMLElement?!0:n.defaultView&&n.defaultView.HTMLElement&&e instanceof n.defaultView.HTMLElement?!0:null!==e&&1===e.nodeType&&"string"===e.nodeName},createElement:function(e,n){var i=null,o=null;for(n=n||t.document,i=n.createDocumentFragment(),o=n.createElement("div"),o.innerHTML=e;o.firstChild;)i.appendChild(o.firstChild);return i},deleteElement:function(t){t.parentElement&&t.parentElement.removeChild(t)},isEqualArray:function(t,e){var n=t.length;if(n!==e.length)return!1;for(;n--;)if(t[n]!==e[n])return!1;return!0},arrayShuffle:function(t){for(var e=t.slice(),n=e.length,i=n,o=-1,a=[];i--;)o=~~(Math.random()*n),a=e[i],e[i]=e[o],e[o]=a;return e},debounce:function(t,e,n){var i;return function(){var o=this,a=arguments,s=n&&!i,r=null;r=function(){i=null,n||t.apply(o,a)},clearTimeout(i),i=setTimeout(r,e),s&&t.apply(o,a)}},position:function(t){for(var e=0,n=0,i=t;t;)e-=t.scrollLeft,n-=t.scrollTop,t===i&&(e+=t.offsetLeft,n+=t.offsetTop,i=t.offsetParent),t=t.parentElement;return{x:e,y:n}},getHypotenuse:function(t,e){var n=t.x-e.x,i=t.y-e.y;return n=0>n?-1*n:n,i=0>i?-1*i:i,Math.sqrt(Math.pow(n,2)+Math.pow(i,2))},closestParent:function(e,n,i,o,a){var s=e.parentNode,r=-1;if(a=a||t.document,r=o||1/0,i&&e.matches(n))return e;for(;r&&s&&s!=a.body;){if(s.matches&&s.matches(n))return s;if(!s.parentNode)return null;s=s.parentNode,o&&r--}return null},children:function(e,n,i){var o=[],a="";return i=i||t.doc,e&&(e.id||(a="Temp"+this.randomHexKey(),e.id=a),o=i.querySelectorAll("#"+e.id+" > "+n),a&&e.removeAttribute("id")),o},forEach:function(t,e){var n=-1,i=null;for(n=0;i=t[n];n++)"function"==typeof e&&e.call(this,i)},clean:function(t){var e=[],n=-1;for(n=0;n<t.length;n++)""!==t[n]&&e.push(t[n]);return e},getPromise:function(t){var n=null,i=null;if(i=new this.PromiseWrapper,e.features.has.promises)i.promise=new Promise(function(t,e){i.resolve=t,i.reject=e});else{if(!t.q||"function"!=typeof t.q)return console.warn("[MixItUp] WARNING: No available Promise implementations were found. Please provide a promise library to the configuration object."),null;n=t.q.defer(),i.promise=n.promise,i.resolve=n.resolve,i.reject=n.reject}return i},canReportErrors:function(t){return t&&t.debug?t.debug.enable:!0},getPrefix:function(t,e,n){var i=-1,o="";if(e.toLowerCase()in t.style)return"";for(i=0;o=n[i];i++)if(o+e in t.style)return o.toLowerCase();return"unsupported"},randomHexKey:function(){return("00000"+(16777216*Math.random()<<0).toString(16)).substr(-6).toUpperCase()},getDocumentState:function(e){return e=e||t.document,{scrollTop:t.pageYOffset,scrollLeft:t.pageXOffset,docHeight:e.documentElement.scrollHeight}},bind:function(t,e){return function(){return e.apply(t,arguments)}},isVisible:function(e){var n=null;return e.offsetParent?!0:(n=t.getComputedStyle(e),"fixed"===n.position&&"hidden"!==n.visibility&&"0"!==n.opacity?!0:!1)},seal:function(t){"function"==typeof Object.seal&&Object.seal(t)},compareVersions:function(t,e){var n=t.split("."),i=e.split("."),o=-1,a=-1,s=-1;for(s=0;s<n.length;s++){if(o=parseInt(n[s]),a=parseInt(i[s]||0),o>a)return!1;if(a>o)return!0}return!0},PromiseWrapper:function(){this.promise=null,this.resolve=null,this.reject=null,this.isResolved=!1}},e.CORE_VERSION="3.0.0-beta",e.h=n,e.BasePrototype=function(){this._actions={},this._filters={}},e.BasePrototype.prototype={constructor:e.BasePrototype,extend:function(t){var e="";for(e in t)t[e]&&(this[e]=t[e])},addAction:function(t,e,n,i){this._addHook("_actions",t,e,n,i)},addFilter:function(t,e,n){this._addHook("_filters",t,e,n)},_addHook:function(t,e,i,o,a){var s=this[t],r={};a=1===a||"post"===a?"post":"pre",r[e]={},r[e][a]={},r[e][a][i]=o,n.extend(s,r)},_execAction:function(t,e,n){var i=this,o="",a=e?"post":"pre";if(!i._actions.isEmptyObject&&i._actions.hasOwnProperty(t))for(o in i._actions[t][a])i._actions[t][a][o].call(i,n)},_execFilter:function(t,e,n){var i=this,o="";if(i._filters.isEmptyObject||!i._filters.hasOwnProperty(t))return e;for(o in i._filters[t].pre)return i._filters[t].pre[o].call(i,e,n)}},e.ConfigAnimation=function(){this._execAction("constructor",0),this.enable=!0,this.effects="fade scale",this.effectsIn="",this.effectsOut="",this.duration=600,this.easing="ease",this.perspectiveDistance="3000",this.perspectiveOrigin="50% 50%",this.queue=!0,this.queueLimit=3,this.animateChangeLayout=!1,this.animateResizeContainer=!0,this.animateResizeTargets=!1,this.staggerSequence=null,this.reverseOut=!1,this.nudgeOut=!0,this._execAction("constructor",1),n.seal(this)},e.ConfigAnimation.prototype=new e.BasePrototype,e.ConfigCallbacks=function(){this._execAction("constructor",0),this.onMixLoad=null,this.onMixStart=null,this.onMixBusy=null,this.onMixEnd=null,this.onMixFail=null,this.onMixClick=null,this._execAction("constructor",1),n.seal(this)},e.ConfigCallbacks.prototype=new e.BasePrototype,e.ConfigControls=function(){this._execAction("constructor",0),this.enable=!0,this.live=!1,this.toggleLogic="or",this.toggleDefault="all",this.activeClass="active",this._execAction("constructor",1),n.seal(this)},e.ConfigControls.prototype=new e.BasePrototype,e.ConfigDebug=function(){this._execAction("constructor",0),this.enable=!0,this._execAction("constructor",1),n.seal(this)},e.ConfigDebug.prototype=new e.BasePrototype,e.ConfigLayout=function(){this._execAction("constructor",0),this.allowNestedTargets=!1,this.display="inline-block",this.containerClass="",this.containerClassFail="fail",this._execAction("constructor",1),n.seal(this)},e.ConfigLayout.prototype=new e.BasePrototype,e.ConfigLibraries=function(){this._execAction("constructor",0),this.q=null,this.bluebird=null,this.jQuery=null,this._execAction("constructor",1),n.seal(this)},e.ConfigLibraries.prototype=new e.BasePrototype,e.ConfigLoad=function(){this._execAction("constructor",0),this.filter="all",this.sort="default:asc",this._execAction("constructor",1),n.seal(this)},e.ConfigLoad.prototype=new e.BasePrototype,e.ConfigSelectors=function(){this._execAction("constructor",0),this.target=".mix",this.filter=".filter",this.filterToggle=".filter-toggle",this.multiMix=".multi-mix",this.sort=".sort",this._execAction("constructor",1),n.seal(this)},e.ConfigSelectors.prototype=new e.BasePrototype,e.MixerDom=function(){this._execAction("constructor",0),this.document=null,this.body=null,this.container=null,this.parent=null,this.targets=[],this.sortButtons=[],this.filterButtons=[],this.filterToggleButtons=[],this.multiMixButtons=[],this.allButtons=[],this._execAction("constructor",1),n.seal(this)},e.MixerDom.prototype=new e.BasePrototype,e.ClickTracker=function(){this._execAction("constructor",0),this.filterToggle={},this.multiMix={},this.filter={},this.sort={},this._execAction("constructor",1),n.seal(this)},e.ClickTracker.prototype=new e.BasePrototype,e.StyleData=function(){this._execAction("constructor",0),this.x=0,this.y=0,this.width=0,this.height=0,this.marginRight=0,this.marginBottom=0,this.opacity=0,this.display="",this.scale=new e.TransformData,this.translateX=new e.TransformData,this.translateY=new e.TransformData,this.translateZ=new e.TransformData,this.rotateX=new e.TransformData,this.rotateY=new e.TransformData,this.rotateZ=new e.TransformData,this._execAction("constructor",1),n.seal(this)},e.StyleData.prototype=new e.BasePrototype,e.TransformData=function(){this._execAction("constructor",0),this.value=0,this.unit="",this._execAction("cconstructor",1),n.seal(this)},e.TransformData.prototype=new e.BasePrototype,e.TransformDefaults=function(){this._execAction("constructor",0),e.StyleData.apply(this),this.scale.value=.01,this.scale.unit="",this.translateX.value=20,this.translateX.unit="px",this.translateY.value=20,this.translateY.unit="px",this.translateZ.value=20,this.translateZ.unit="px",this.rotateX.value=90,this.rotateX.unit="deg",this.rotateY.value=90,this.rotateY.unit="deg",this.rotateX.value=90,this.rotateX.unit="deg",this.rotateZ.value=180,this.rotateZ.unit="deg",this._execAction("constructor",1)},e.TransformDefaults.prototype=new e.BasePrototype,e.Mixer=function(){this._execAction("constructor",0),this.animation=new e.ConfigAnimation,this.callbacks=new e.ConfigCallbacks,this.controls=new e.ConfigControls,this.debug=new e.ConfigDebug,this.layout=new e.ConfigLayout,this.libraries=new e.ConfigLibraries,this.load=new e.ConfigLoad,this.selectors=new e.ConfigSelectors,this._id="",this._isMixing=!1,this._isClicking=!1,this._isLoading=!0,this._incPadding=!0,this._targets=[],this._origOrder=[],this._toggleArray=[],this._toggleString="",this._targetsMoved=0,this._targetsImmovable=0,this._targetsBound=0,this._targetsDone=0,this._staggerDuration=0,this._effectsIn=null,this._effectsOut=null,this._transformIn=[],this._transformOut=[],this._queue=[],this._handler=null,this._state=null,this._lastOperation=null,this._lastClicked=null,this._userCallback=null,this._userPromise=null,this._dom=new e.MixerDom,this._execAction("constructor",1),n.seal(this)},e.Mixer.prototype=new e.BasePrototype,n.extend(e.Mixer.prototype,{constructor:e.Mixer,_instances:{},_transformDefaults:new e.TransformDefaults,_handled:new e.ClickTracker,_bound:new e.ClickTracker,_init:function(t,i){var o=this,a=new e.State,s=new e.Operation;o._execAction("_init",0,arguments),i&&n.extend(o,i),o._cacheDom(t),o.layout.containerClass&&n.addClass(t,o.layout.containerClass),o.animation.enable=o.animation.enable&&e.features.has.transitions,o._indexTargets(),a.activeFilter="all"===o.load.filter?o.selectors.target:"none"===o.load.filter?"":o.load.filter,a.activeSort=o.load.sort,a.activeContainerClass=o.layout.containerClass,a.activeDisplay=o.layout.display,a.activeSort&&(s.startSortString="default:asc",s.startOrder=o._targets,s.newSort=o._parseSort(a.activeSort),s.newSortString=a.activeSort,o._sort(s),o._printSort(!1,s),o._targets=s.newOrder),o._updateControls({filter:a.activeFilter,sort:a.activeSort}),o._parseEffects(),o._bindEvents(),o._state=a,o._dom.filterToggleButtons.length&&o._buildToggleArray(),o._execAction("_init",1,arguments)},_cacheDom:function(t){var e=this;e._execAction("_cacheDom",0,arguments),e._dom.body=e._dom.document.getElementsByTagName("body")[0],e._dom.container=t,e._dom.parent=t,e._dom.sortButtons=Array.prototype.slice.call(e._dom.document.querySelectorAll(e.selectors.sort)),e._dom.filterButtons=Array.prototype.slice.call(e._dom.document.querySelectorAll(e.selectors.filter)),e._dom.filterToggleButtons=Array.prototype.slice.call(e._dom.document.querySelectorAll(e.selectors.filterToggle)),e._dom.multiMixButtons=Array.prototype.slice.call(e._dom.document.querySelectorAll(e.selectors.multiMix)),e._dom.allButtons=e._dom.filterButtons.concat(e._dom.sortButtons).concat(e._dom.filterToggleButtons).concat(e._dom.multiMixButtons),e._execAction("_cacheDom",1,arguments)},_indexTargets:function(){var t=this,i=null,o=null,a=-1;if(t._execAction("_indexTargets",0,arguments),t._dom.targets=t.layout.allowNestedTargets?t._dom.container.querySelectorAll(t.selectors.target):n.children(t._dom.container,t.selectors.target,t._dom.document),t._dom.targets=Array.prototype.slice.call(t._dom.targets),t._targets=[],t._dom.targets.length){for(a=0;o=t._dom.targets[a];a++)i=new e.Target,i.init(o,t),t._targets.push(i);t._dom.parent=t._dom.targets[0].parentElement.isEqualNode(t._dom.container)?t._dom.container:t._dom.targets[0].parentElement}t._origOrder=t._targets,t._execAction("_indexTargets",1,arguments)},_bindEvents:function(){var i=this,o=e.Mixer.prototype,a=o._bound.filterToggle,s=o._bound.multiMix,r=o._bound.filter,l=o._bound.sort,c=null,u=-1;if(i._execAction("_bindEvents",0),i._handler=function(t){return i._eventBus(t)},i.controls.live)n.on(t,"click",i._handler);else for(u=0;c=i._dom.allButtons[u];u++)n.on(c,"click",i._handler);a[i.selectors.filterToggle]="undefined"==typeof a[i.selectors.filterToggle]?1:a[i.selectors.filterToggle]+1,s[i.selectors.multiMix]="undefined"==typeof s[i.selectors.multiMix]?1:s[i.selectors.multiMix]+1,r[i.selectors.filter]="undefined"==typeof r[i.selectors.filter]?1:r[i.selectors.filter]+1,l[i.selectors.sort]="undefined"==typeof l[i.selectors.sort]?1:l[i.selectors.sort]+1,i._execAction("_bindEvents",1)},_unbindEvents:function(){var e=this,i=null,o=-1;for(e._execAction("_unbindEvents",0),n.off(t,"click",e._handler),o=0;i=e._dom.allButtons[o];o++)n.on(i,"click",e._handler);e._execAction("_unbindEvents",1)},_eventBus:function(t){var e=this;switch(t.type){case"click":return e.handleClick(t)}},handleClick:function(t){var i=this,o=[],a=[],s={},r="",l="",c="",u="",m="",d="",h=!1,f=null,g=null,p=-1;if(i._execAction("handleClick",0,arguments),r="or"===i.controls.toggleLogic?",":"",i._isMixing&&(!i.animation.queue||i._queue.length>=i.animation.queueLimit))return void(n.canReportErrors(i)&&console.warn(e.messages[201]));for(o=Object.getOwnPropertyNames(i.selectors),p=0;d=o[p];p++)a.push(i.selectors[d]);if(u=a.join(","),f=n.closestParent(t.target,u,!0,1/0,i._dom.document)){if("function"==typeof i.callbacks.onMixClick&&i.callbacks.onMixClick.call(f,i._state,i),i._isMixing&&(!i.animation.queue||i._queue.length>=i.animation.queueLimit))return"function"==typeof i.callbacks.onMixBusy&&i.callbacks.onMixBusy.call(i._dom.container,i._state,i),void i._execAction("handleClickBusy",1,arguments);if(i._isClicking=!0,f.matches(i.selectors.sort)){if(c=f.getAttribute("data-sort"),n.hasClass(f,i.controls.activeClass)&&!(c.indexOf("random")>-1))return;for(m="sort",p=0;g=i._dom.sortButtons[p];p++)n.removeClass(g,i.controls.activeClass);for(p=0;g=i._dom.multiMixButtons[p];p++)n.removeClass(g,i.controls.activeClass);s={sort:c}}else if(f.matches(i.selectors.filter)){if(n.hasClass(f,i.controls.activeClass))return;for(m="filter",p=0;g=i._dom.filterButtons[p];p++)n.removeClass(g,i.controls.activeClass);for(p=0;g=i._dom.filterToggleButtons[p];p++)n.removeClass(g,i.controls.activeClass);for(p=0;g=i._dom.multiMixButtons[p];p++)n.removeClass(g,i.controls.activeClass);s={filter:f.getAttribute("data-filter")}}else if(f.matches(i.selectors.filterToggle)){for(l=f.getAttribute("data-filter"),m="filterToggle",p=0;g=i._dom.filterButtons[p];p++)n.removeClass(g,i.controls.activeClass);for(p=0;g=i._dom.multiMixButtons[p];p++)n.removeClass(g,i.controls.activeClass);i._buildToggleArray(),n.hasClass(f,i.controls.activeClass)?(i._toggleArray.splice(i._toggleArray.indexOf(l),1),h=!0):i._toggleArray.push(l),i._toggleArray=n.clean(i._toggleArray),i._toggleString=i._toggleArray.join(r),""===i._toggleString?(i._toggleString=i.controls.toggleDefault,s={filter:i._toggleString},i._updateControls(s)):s={filter:i._toggleString}}else if(f.matches(i.selectors.multiMix)){if(n.hasClass(f,i.controls.activeClass))return;for(m="multiMix",p=0;g=i._dom.filterButtons[p];p++)n.removeClass(g,i.controls.activeClass);for(p=0;g=i._dom.filterToggleButtons[p];p++)n.removeClass(g,i.controls.activeClass);for(p=0;g=i._dom.sortButtons[p];p++)n.removeClass(g,i.controls.activeClass);for(p=0;g=i._dom.multiMixButtons[p];p++)n.removeClass(g,i.controls.activeClass);s={sort:f.getAttribute("data-sort"),filter:f.getAttribute("data-filter")},i._state.activeFilter="",i._buildToggleArray(),i._updateControls(s)}m&&(i._trackClick(f,m,h),i.multiMix(s)),i._execAction("handleClick",1,arguments)}},_trackClick:function(t,i,o){var a=this,s=e.Mixer.prototype,r=a.selectors[i];a._lastClicked=t,s._handled[i][r]="undefined"==typeof s._handled[i][r]?1:s._handled[i][r]+1,s._handled[i][r]===s._bound[i][r]&&(o?n.removeClass(t,a.controls.activeClass):n.addClass(t,a.controls.activeClass),delete s._handled[i][r])},_buildToggleArray:function(){var t=this,e="",i="",o=-1;if(t._execAction("_buildToggleArray",0,arguments),e=t._state.activeFilter.replace(/\s/g,""),e=e===t.selectors.target?"":e,"or"===t.controls.toggleLogic)t._toggleArray=e.split(",");else for(t._toggleArray=e.split("."),!t._toggleArray[0]&&t._toggleArray.shift(),o=0;i=t._toggleArray[o];o++)t._toggleArray[o]="."+i;t._toggleArray=n.clean(t._toggleArray),t._execAction("_buildToggleArray",1,arguments)},_updateControls:function(t){var e=this,i=null,o=null,a=null,s=null,r="",l=-1,c=-1;for(a={filter:t&&t.filter,sort:t&&t.sort},e._execAction("_updateControls",0,arguments),"undefined"==typeof a.filter&&(a.filter=e._state.activeFilter),"undefined"==typeof a.sort&&(a.sort=e._state.activeSort),a.filter===e.selectors.target&&(a.filter="all"),l=0;s=e._dom.sortButtons[l];l++)n.removeClass(s,e.controls.activeClass),s.matches('[data-sort="'+a.sort+'"]')&&n.addClass(s,e.controls.activeClass);for(l=0;s=e._dom.filterButtons[l];l++)n.removeClass(s,e.controls.activeClass),s.matches('[data-filter="'+a.filter+'"]')&&n.addClass(s,e.controls.activeClass);for(l=0;s=e._dom.multiMixButtons[l];l++)n.removeClass(s,e.controls.activeClass),s.matches('[data-sort="'+a.sort+'"]')&&s.matches('[data-filter="'+a.filter+'"]')&&n.addClass(s,e.controls.activeClass);if(e._dom.filterToggleButtons.length){for(l=0;s=e._dom.filterToggleButtons[l];l++)n.removeClass(s,e.controls.activeClass),s.matches('[data-filter="'+a.filter+'"]')&&n.addClass(s,e.controls.activeClass);for(l=0;r=e._toggleArray[l];l++){if(o=null,e.controls.live)o=e._dom.document.querySelector(e.selectors.filterToggle+'[data-filter="'+r+'"]');else for(c=0;i=e._dom.filterToggleButtons[c];c++)i.matches('[data-filter="'+r+'"]')&&(o=i);o&&n.addClass(o,e.controls.activeClass)}}e._execAction("_updateControls",1,arguments)},_insert:function(t,i){var o=this,a=null,s=null,r=null,l=null,c=-1;if(o._execAction("insert",0,arguments),"undefined"==typeof t.index&&(t.index=0),a=o._getNextSibling(t.index,t.sibling,t.position),s=o._dom.document.createDocumentFragment(),t.targets){for(c=0;l=t.targets[c];c++){if(o._dom.targets.indexOf(l)>-1)throw new Error(e.messages[151]);s.appendChild(l),s.appendChild(o._dom.document.createTextNode(" ")),n.isElement(l,o._dom.document)&&l.matches(o.selectors.target)&&(r=new e.Target,r.init(l,o),o._targets.splice(t.index,0,r),t.index++)}o._dom.parent.insertBefore(s,a)}i.startOrder=o._origOrder=o._targets,o._execAction("insert",1,arguments)},_getNextSibling:function(t,e,n){var i=this;if(e){if("before"===n)return e;if("after"===n)return e.nextElementSibling||null}return i._targets.length&&"undefined"!=typeof t?t<i._targets.length||!i._targets.length?i._targets[t].dom.el:i._targets[i._targets.length-1].dom.el.nextElementSibling:i._dom.parent.children.length?i._dom.parent.children[0]:null},_filter:function(t){var e=this,i=!1,o=-1,a=null,s=-1;for(e._execAction("_filter",0,arguments),s=0;a=t.newOrder[s];s++)"string"==typeof t.newFilter?(i=""===t.newFilter?!1:a.dom.el.matches(t.newFilter),e._evaluateHideShow(i,a,!1,t)):"object"==typeof t.newFilter&&n.isElement(t.newFilter,e._dom.document)?e._evaluateHideShow(a.dom.el===t.newFilter,a,!1,t):"object"==typeof t.newFilter&&t.newFilter.length&&e._evaluateHideShow(t.newFilter.indexOf(a.dom.el)>-1,a,!1,t);if(t.matching=t.show.slice(),t.toRemove.length)for(s=0;a=t.show[s];s++)t.toRemove.indexOf(a)>-1&&(t.show.splice(s,1),(o=t.toShow.indexOf(a))>-1&&t.toShow.splice(o,1),t.toHide.push(a),t.hide.push(a),s--);e._execAction("_filter",1,arguments)},_evaluateHideShow:function(t,e,n,i){var o=this;t?n&&"string"==typeof i.startFilter?o._evaluateHideShow(e.dom.el.matches(i.startFilter),e,!1,i):(i.show.push(e),!e.isShown&&i.toShow.push(e)):(i.hide.push(e),e.isShown&&i.toHide.push(e))},_sort:function(t){var e=this;switch(e._execAction("_sort",0,arguments),t.startOrder=e._targets,t.newSort[0].sortBy){case"default":t.newOrder=e._origOrder.slice(),"desc"===t.newSort[0].order&&t.newOrder.reverse();break;case"random":t.newOrder=n.arrayShuffle(t.startOrder);break;case"custom":t.newOrder=t.newSort[0].order;break;default:t.newOrder=t.startOrder.slice().sort(function(n,i){return e._compare(n,i,0,t.newSort)})}n.isEqualArray(t.newOrder,t.startOrder)&&(t.willSort=!1),e._execAction("_sort",1,arguments)},_compare:function(t,e,n,i){n=n?n:0;var o=this,a=i[n].order,s=o._getAttributeValue(t,n,i),r=o._getAttributeValue(e,n,i);return isNaN(1*s)||isNaN(1*r)?(s=s.toLowerCase(),r=r.toLowerCase()):(s=1*s,r=1*r),r>s?"asc"===a?-1:1:s>r?"asc"===a?1:-1:s===r&&i.length>n+1?o._compare(t,e,n+1,i):0},_getAttributeValue:function(t,i,o){var a=this,s="";return o=o?o:a._newSort,s=t.dom.el.getAttribute("data-"+o[i].sortBy),null===s&&n.canReportErrors(a)&&console.warn(e.messages[250]),s||0},_printSort:function(t,e){var i=this,o=t?e.startOrder:e.newOrder,a=n.children(i._dom.parent,i.selectors.target,i._dom.document),s=a.length?a[a.length-1].nextElementSibling:null,r=i._dom.document.createDocumentFragment(),l=null,c=null,u=null,m=-1;for(i._execAction("_printSort",0,arguments),m=0;u=a[m];m++)c=u.nextSibling,"absolute"!==u.style.position&&(c&&"#text"===c.nodeName&&i._dom.parent.removeChild(c),i._dom.parent.removeChild(u));for(m=0;l=o[m];m++)u=l.dom.el,r.appendChild(u),r.appendChild(i._dom.document.createTextNode(" "));s?i._dom.parent.insertBefore(r,s):i._dom.parent.appendChild(r),i._execAction("_printSort",1,arguments)},_parseSort:function(t){var e=this,i="string"==typeof t?t.split(" "):[t],o=[],a=null,s=[],r=-1;for(r=0;r<i.length&&(s="string"==typeof t?i[r].split(":"):["custom",i[r]],a={sortBy:n.camelCase(s[0]),order:s[1]||"asc"},o.push(a),"default"!==a.sortBy&&"random"!==a.sortBy);r++);return e._execFilter("_parseSort",o,arguments)},_parseEffects:function(){var t=this,n="",i=t.animation.effectsIn||t.animation.effects,o=t.animation.effectsOut||t.animation.effects;t._effectsIn=new e.StyleData,t._effectsOut=new e.StyleData,t._transformIn=[],t._transformOut=[],t._effectsIn.opacity=t._effectsOut.opacity=1,t._parseEffect("fade",i,t._effectsIn,t._transformIn),t._parseEffect("fade",o,t._effectsOut,t._transformOut,!0);for(n in t._transformDefaults)t._parseEffect(n,i,t._effectsIn,t._transformIn),t._parseEffect(n,o,t._effectsOut,t._transformOut,!0);t._parseEffect("stagger",i,t._effectsIn,t._transformIn),t._parseEffect("stagger",o,t._effectsOut,t._transformOut,!0)},_parseEffect:function(t,n,i,o,a){var s=this,r=/\(([^)]+)\)/,l=-1,c="",u=[],m="",d=["%","px","em","rem","vh","vw","deg"],h="",f=-1;if(!n||"string"!=typeof n)throw new Error(e.messages[101]);if(n.indexOf(t)<0)return void("stagger"===t&&(s._staggerDuration=0));if(l=n.indexOf(t+"("),l>-1)switch(c=n.substring(l),u=r.exec(c),m=u[1],t){case"fade":i.opacity=parseFloat(m);break;case"stagger":s._staggerDuration=parseFloat(m);break;default:for(f=0;h=d[f];f++)if(m.indexOf(h)>-1){i[t].unit=h;break}a&&s.animation.reverseOut&&"scale"!==t?i[t].value=-1*parseFloat(m):i[t].value=parseFloat(m),o.push(t+"("+i[t].value+i[t].unit+")")}else switch(t){case"fade":i.opacity=0;break;case"stagger":s._staggerDuration=100;break;default:a&&s.animation.reverseOut&&"scale"!==t?i[t].value=-1*s._transformDefaults[t].value:i[t].value=s._transformDefaults[t].value,i[t].unit=s._transformDefaults[t].unit,o.push(t+"("+i[t].value+i[t].unit+")")}},_buildState:function(t){var n=this,i=new e.State,o=null,a=-1;for(n._execAction("_buildState",0),a=0;o=n._targets[a];a++)(!t.toRemove.length||t.toRemove.indexOf(o)<0)&&i.targets.push(o.dom.el);for(a=0;o=t.matching[a];a++)i.matching.push(o.dom.el);for(a=0;o=t.show[a];a++)i.show.push(o.dom.el);for(a=0;o=t.hide[a];a++)(!t.toRemove.length||t.toRemove.indexOf(o)<0)&&i.hide.push(o.dom.el);return i.activeFilter=t.newFilter,i.activeSort=t.newSortString,i.activeContainerClass=t.newContainerClass,i.activeDisplay=t.newDisplay||n.layout.display,i.hasFailed=!t.matching.length&&""!==t.newFilter,i.totalTargets=n._targets.length,i.totalShow=t.show.length,i.totalHide=t.hide.length,i.totalMatching=t.matching.length,i.triggerElement=n._lastClicked,n._execFilter("_buildState",i,arguments)},_goMix:function(i,o){var a=this;return a._execAction("_goMix",0,arguments),a.animation.duration&&n.isVisible(a._dom.container)||(i=!1),o.toShow.length||o.toHide.length||o.willSort||o.willChangeLayout||(i=!1),o.startState.show.length||o.show.length||(i=!1),(!a._userPromise||a._userPromise.isResolved)&&(a._userPromise=n.getPromise(a.libraries)),"function"==typeof a.callbacks.onMixStart&&a.callbacks.onMixStart.call(a._dom.container,o.startState,o.newState,a),n.triggerCustom(a._dom.container,"mixStart",{state:o.startState,futureState:o.newState,instance:a},a._dom.document),i&&e.features.has.transitions?(a._isMixing=!0,t.pageYOffset!==o.docState.scrollTop&&t.scrollTo(o.docState.scrollLeft,o.docState.scrollTop),a._dom.parent.style[e.features.perspectiveProp]=a.animation.perspective,a._dom.parent.style[e.features.perspectiveOriginProp]=a.animation.perspectiveOrigin,a.animation.animateResizeContainer&&(a._dom.parent.style.height=o.startHeight+"px",a._dom.parent.style.width=o.startWidth+"px"),requestAnimationFrame(function(){a._moveTargets(o)})):a._cleanUp(o),a._execAction("_goMix",1,arguments),a._userPromise.promise},_getStartMixData:function(n){var i=this,o=t.getComputedStyle(i._dom.parent),a=i._dom.parent.getBoundingClientRect(),s=null,r={},l=-1,c=o[e.features.boxSizingProp];for(i._incPadding="border-box"===c,i._execAction("_getStartMixData",0),l=0;s=n.show[l];l++)r=s.getPosData(),n.showPosData[l]={startPosData:r};for(l=0;s=n.toHide[l];l++)r=s.getPosData(),n.toHidePosData[l]={startPosData:r};n.startHeight=i._incPadding?a.height:a.height-parseFloat(o.paddingTop)-parseFloat(o.paddingBottom)-parseFloat(o.borderTop)-parseFloat(o.borderBottom),n.startWidth=i._incPadding?a.width:a.width-parseFloat(o.paddingLeft)-parseFloat(o.paddingRight)-parseFloat(o.borderLeft)-parseFloat(o.borderRight),i._execAction("_getStartMixData",1)},_setInter:function(t){var e=this,i=null,o=-1;for(e._execAction("_setInter",0),o=0;i=t.toShow[o];o++)i.show(t.willChangeLayout?t.newDisplay:e.layout.display);t.willChangeLayout&&(n.removeClass(e._dom.container,t.startContainerClass),n.addClass(e._dom.container,t.newContainerClass)),e._execAction("_setInter",1)},_getInterMixData:function(t){var e=this,n=null,i=-1;for(e._execAction("_getInterMixData",0),i=0;n=t.show[i];i++)t.showPosData[i].interPosData=n.getPosData();for(i=0;n=t.toHide[i];i++)t.toHidePosData[i].interPosData=n.getPosData();e._execAction("_getInterMixData",1)},_setFinal:function(t){var e=this,n=null,i=-1;for(e._execAction("_setFinal",0),t.willSort&&e._printSort(!1,t),i=0;n=t.toHide[i];i++)n.hide();e._execAction("_setFinal",1)},_getFinalMixData:function(e){var i=this,o=null,a=i._dom.parent.getBoundingClientRect(),s=null,r=-1;for(i._incPadding||(o=t.getComputedStyle(i._dom.parent)),i._execAction("_getFinalMixData",0,arguments),r=0;s=e.show[r];r++)e.showPosData[r].finalPosData=s.getPosData();for(r=0;s=e.toHide[r];r++)e.toHidePosData[r].finalPosData=s.getPosData();for(e.newHeight=i._incPadding?a.height:a.height-parseFloat(o.paddingTop)-parseFloat(o.paddingBottom)-parseFloat(o.borderTop)-parseFloat(o.borderBottom),e.newWidth=i._incPadding?a.width:a.width-parseFloat(o.paddingLeft)-parseFloat(o.paddingRight)-parseFloat(o.borderLeft)-parseFloat(o.borderRight),e.willSort&&i._printSort(!0,e),r=0;s=e.toShow[r];r++)s.hide();for(r=0;s=e.toHide[r];r++)s.show(i.layout.display);e.willChangeLayout&&i.animation.animateChangeLayout&&(n.removeClass(i._dom.container,e.newContainerClass),n.addClass(i._dom.container,i.layout.containerClass)),i._execAction("_getFinalMixData",1,arguments)},_getTweenData:function(t){var n=this,i=null,o=null,a=Object.getOwnPropertyNames(n._effectsIn),s="",r=null,l=-1,c=-1;for(l=0;i=t.show[l];l++)for(o=t.showPosData[l],o.posIn=new e.StyleData,o.posOut=new e.StyleData,o.tweenData=new e.StyleData,o.posIn.x=i.isShown?o.startPosData.x-o.interPosData.x:0,o.posIn.y=i.isShown?o.startPosData.y-o.interPosData.y:0,o.posOut.x=o.finalPosData.x-o.interPosData.x,o.posOut.y=o.finalPosData.y-o.interPosData.y,o.posIn.display=i.isShown?n.layout.display:"none",o.posOut.display=n.layout.display,o.posIn.opacity=i.isShown?1:n._effectsIn.opacity,o.posOut.opacity=1,o.tweenData.opacity=o.posOut.opacity-o.posIn.opacity,i.isShown||n.animation.nudgeOut||(o.posIn.x=o.posOut.x,o.posIn.y=o.posOut.y),o.tweenData.x=o.posOut.x-o.posIn.x,o.tweenData.y=o.posOut.y-o.posIn.y,n.animation.animateResizeTargets&&(o.posIn.width=o.startPosData.width,o.posIn.height=o.startPosData.height,o.startPosData.width-o.finalPosData.width?o.posIn.marginRight=-(o.startPosData.width-o.interPosData.width)+1*o.startPosData.marginRight:o.posIn.marginRight=o.startPosData.marginRight,o.startPosData.height-o.finalPosData.height?o.posIn.marginBottom=-(o.startPosData.height-o.interPosData.height)+1*o.startPosData.marginBottom:o.posIn.marginBottom=o.startPosData.marginBottom,o.posOut.width=o.finalPosData.width,o.posOut.height=o.finalPosData.height,o.posOut.marginRight=-(o.finalPosData.width-o.interPosData.width)+1*o.finalPosData.marginRight,o.posOut.marginBottom=-(o.finalPosData.height-o.interPosData.height)+1*o.finalPosData.marginBottom,o.tweenData.width=o.posOut.width-o.posIn.width,o.tweenData.height=o.posOut.height-o.posIn.height,o.tweenData.marginRight=o.posOut.marginRight-o.posIn.marginRight,o.tweenData.marginBottom=o.posOut.marginBottom-o.posIn.marginBottom),c=0;s=a[c];c++)r=n._effectsIn[s],r instanceof e.TransformData&&r.value&&(o.posIn[s].value=r.value,o.posOut[s].value=0,o.tweenData[s].value=o.posOut[s].value-o.posIn[s].value,o.posIn[s].unit=o.posOut[s].unit=o.tweenData[s].unit=r.unit);for(l=0;i=t.toHide[l];l++)for(o=t.toHidePosData[l],o.posIn=new e.StyleData,o.posOut=new e.StyleData,o.tweenData=new e.StyleData,o.posIn.x=i.isShown?o.startPosData.x-o.interPosData.x:0,o.posIn.y=i.isShown?o.startPosData.y-o.interPosData.y:0,o.posOut.x=n.animation.nudgeOut?0:o.posIn.x,o.posOut.y=n.animation.nudgeOut?0:o.posIn.y,o.tweenData.x=o.posOut.x-o.posIn.x,o.tweenData.y=o.posOut.y-o.posIn.y,o.posIn.display=n.layout.display,o.posOut.display="none",o.posIn.opacity=1,o.posOut.opacity=n._effectsOut.opacity,o.tweenData.opacity=o.posOut.opacity-o.posIn.opacity,c=0;s=a[c];c++)r=n._effectsOut[s],r instanceof e.TransformData&&r.value&&(o.posIn[s].value=0,o.posOut[s].value=r.value,o.tweenData[s].value=o.posOut[s].value-o.posIn[s].value,o.posIn[s].unit=o.posOut[s].unit=o.tweenData[s].unit=r.unit)},_moveTargets:function(t){var i=this,o=null,a=null,s="",r=!1,l=-1,c=-1,u=n.bind(i,i._checkProgress);
for(c=0;o=t.show[c];c++)a=t.showPosData[c],s=o.isShown?!1:"show",r=i._willTransition(s,t.hasEffect,a.posIn,a.posOut),r&&l++,o.show(t.willChangeLayout?t.newDisplay:i.layout.display),o.move({posIn:a.posIn,posOut:a.posOut,hideOrShow:s,staggerIndex:l,operation:t,callback:r?u:null});for(c=0;o=t.toHide[c];c++)a=t.toHidePosData[c],s="hide",r=i._willTransition(s,a.posIn,a.posOut),o.move({posIn:a.posIn,posOut:a.posOut,hideOrShow:s,staggerIndex:c,operation:t,callback:r?u:null});i._dom.parent.style.perspective=i.animation.perspectiveDistance+"px",i._dom.parent.style.perspectiveOrigin=i.animation.perspectiveOrigin,i.animation.animateResizeContainer&&(i._dom.parent.style[e.features.transitionProp]="height "+i.animation.duration+"ms ease, width "+i.animation.duration+"ms ease, ",requestAnimationFrame(function(){i._dom.parent.style.height=t.newHeight+"px",i._dom.parent.style.width=t.newWidth+"px"})),t.willChangeLayout&&(n.removeClass(i._dom.container,i.layout.containerClass),n.addClass(i._dom.container,t.newContainerClass))},hasEffect:function(){var t=this,e=["scale","translateX","translateY","translateZ","rotateX","rotateY","rotateZ"],n="",i=null,o=-1,a=-1;if(1!==t._effectsIn.opacity)return!0;for(a=0;n=e[a];a++)if(i=t._effectsIn[n],o="undefined"!==i.value?i.value:i,0!==o)return!0;return!1},_willTransition:function(t,e,i,o){var a=this;return n.isVisible(a._dom.container)?t&&e||i.x!==o.x||i.y!==o.y?!0:a.animation.animateResizeTargets?i.width!==o.width||i.height!==o.height||i.marginRight!==o.marginRight||i.marginTop!==o.marginTop:!1:!1},_checkProgress:function(t){var e=this;e._targetsDone++,e._targetsBound===e._targetsDone&&e._cleanUp(t)},_cleanUp:function(t){var i=this,o=null,a=null,s=-1;for(i._isMixing=!1,i._execAction("_cleanUp",0),i._targetsMoved=i._targetsImmovable=i._targetsBound=i._targetsDone=0,s=0;o=t.show[s];s++)o.cleanUp(),o.show(t.willChangeLayout?t.newDisplay:i.layout.display),o.isShown=!0;for(s=0;o=t.toHide[s];s++)o.cleanUp(),o.hide(),o.isShown=!1;if(t.willSort&&(i._printSort(!1,t),i._targets=t.newOrder),i.animation.animateResizeContainer&&(i._dom.parent.style[e.features.transitionProp]="",i._dom.parent.style.height="",i._dom.parent.style.width=""),i._dom.parent.style[e.features.perspectiveProp]="",i._dom.parent.style[e.features.perspectiveOriginProp]="",t.willChangeLayout&&(n.removeClass(i._dom.container,t.startContainerClass),n.addClass(i._dom.container,t.newContainerClass)),t.toRemove.length){for(s=0;o=i._targets[s];s++)t.toRemove.indexOf(o)>-1&&(n.deleteElement(o.dom.el),i._targets.splice(s,1),s--);i._origOrder=i._targets}i._state=t.newState,i._lastOperation=t,i._dom.targets=i._state.targets,"function"==typeof i._userCallback&&i._userCallback.call(i._dom.el,i._state,i),"function"==typeof i.callbacks.onMixEnd&&i.callbacks.onMixEnd.call(i._dom.el,i._state,i),n.triggerCustom(i._dom.container,"mixEnd",{state:i._state,instance:i},i._dom.document),i._userPromise.resolve(i._state),i._userPromise.isResolved=!0,i._queue.length&&(i._execAction("_queue",0),a=i._queue.shift(),i._userPromise=a[3],i.multiMix.apply(i,a)),i._execAction("_cleanUp",1)},_parseMultiMixArgs:function(t){var n=this,i=new e.UserInstruction,o=null,a=-1;for(i.animate=n.animation.enable,a=0;a<t.length;a++)o=t[a],null!==o&&("object"==typeof o||"string"==typeof o?i.command=o:"boolean"==typeof o?i.animate=o:"function"==typeof o&&(i.callback=o));return n._execFilter("_parseMultiMixArgs",i,arguments)},_parseInsertArgs:function(t){var i=this,o=new e.UserInstruction,a=null,s=-1;for(o.animate=i.animation.enable,o.command={index:0,targets:[],position:"before",sibling:null},s=0;s<t.length;s++)a=t[s],"number"==typeof a?o.command.index=a:"string"==typeof a&&["before","after"].indexOf(a)>-1?o.command.position=a:"string"==typeof a?o.command.targets=Array.prototype.slice.call(n.createElement(a).children):"object"==typeof a&&n.isElement(a,i._dom.document)?o.command.targets.length?o.command.sibling=a:o.command.targets=[a]:"object"==typeof a&&null!==a&&a.length?o.command.targets.length?o.command.sibling=a[0]:o.command.targets=a:"object"==typeof a&&null!==a&&a.childNodes&&a.childNodes.length?o.command.targets.length?o.command.sibling=a.childNodes[0]:o.command.targets=Array.prototype.slice.call(a.childNodes):"boolean"==typeof a?o.animate=a:"function"==typeof a&&(o.callback=a);if(!o.command.targets.length&&n.canReportErrors(i))throw new Error(e.messages[102]);return i._execFilter("_parseInsertArgs",o,arguments)},_parseRemoveArgs:function(t){var i=this,o=new e.UserInstruction,a=[],s=null,r=null,l=-1;for(o.animate=i.animation.enable,o.command={targets:[]},l=0;l<t.length;l++)switch(r=t[l],typeof r){case"number":i._targets[r]&&(o.command.targets[0]=i._targets[r]);break;case"string":a=Array.prototype.slice.call(i._dom.parent.querySelectorAll(r));break;case"object":r&&r.length?a=r:n.isElement(r,i._dom.document)&&(a=[r]);break;case"boolean":o.animate=r;break;case"function":o.callback=r}if(a.length)for(l=0;s=i._targets[l];l++)a.indexOf(s.dom.el)>-1&&o.command.targets.push(s);return i._execFilter("_parseRemoveArgs",o,arguments)},_deferMix:function(t,i){var o=this,a=null;return a=n.getPromise(o.libraries),o.animation.queue&&o._queue.length<o.animation.queueLimit?(t[3]=a,o._queue.push(t),o.controls.enable&&!o._isClicking&&o._updateControls(i.command),o._execAction("multiMixQueue",1,t)):(n.canReportErrors(o)&&console.warn(e.messages[201]),a.resolve(o._state),a.isResolved=!0,"function"==typeof o.callbacks.onMixBusy&&o.callbacks.onMixBusy.call(o._dom.container,o._state,o),n.triggerCustom(o._dom.container,"mixBusy",{state:o._state,instance:o}),o._execAction("multiMixBusy",1,t)),a.promise},init:function(){var t=this;return t.multiMix({filter:t._state.activeFilter})},show:function(){var t=this;return t.filter("all")},hide:function(){var t=this;return t.filter("none")},isMixing:function(){var t=this;return t._isMixing},filter:function(){var t=this,e=t._parseMultiMixArgs(arguments);return t._isClicking&&(t._toggleString=""),t.multiMix({filter:e.command},e.animate,e.callback)},sort:function(){var t=this,e=t._parseMultiMixArgs(arguments);return t.multiMix({sort:e.command},e.animate,e.callback)},changeLayout:function(){},getOperation:function(t){var i=this,o=t.sort,a=t.filter,s=t.changeLayout,r=t.remove,l=t.insert,c=new e.Operation;return c.command=t,c.startState=i._state,c.id=n.randomHexKey(),i._execAction("getOperation",0,c),i._isMixing?(n.canReportErrors(i)&&console.warn(e.messages[201]),null):(l&&("undefined"==typeof l.targets&&(l=i._parseInsertArgs([l]).command),i._insert(l,c)),r&&("undefined"==typeof r.targets&&(r=i._parseRemoveArgs([r]).command),c.toRemove=r.targets),o?(c.startSortString=c.startState.activeSort,c.newSort=i._parseSort(o),c.newSortString=o,(o!==c.startState.activeSortString||"random"===o)&&(c.willSort=!0,i._sort(c))):(c.startSortString=c.newSortString=c.startState.activeSort,c.startOrder=c.newOrder=i._targets),c.startFilter=c.startState.activeFilter,a?c.newFilter="all"===a?i.selectors.target:"none"===a?"":a:c.newFilter=c.startState.activeFilter,i._filter(c),"undefined"!=typeof s&&(c.startDisplay=c.startState.activeDisplay,c.startContainerClass=c.startState.activeContainerClass,c.newDisplay=s.display||c.startDisplay,c.newContainerClass=s.containerClass||c.startContainerClass,(c.newContainerClass!==c.startContainerClass||c.newDisplay!==c.startDisplay)&&(c.willChangeLayout=!0)),i._getStartMixData(c),i._setInter(c),c.docState=n.getDocumentState(),i._getInterMixData(c),i._setFinal(c),i._getFinalMixData(c),i._parseEffects(),c.hasEffect=i.hasEffect(),i._getTweenData(c),c.newState=i._buildState(c),i._execFilter("getOperation",c,arguments))},multiMix:function(){var t=this,e=null,n=!1,i=t._parseMultiMixArgs(arguments);return t._execAction("multiMix",0,arguments),t._isClicking||(t._lastClicked=null),t._isMixing?t._deferMix(arguments,i):(e=t.getOperation(i.command),t.controls.enable&&!t._isClicking&&(t._dom.filterToggleButtons.length&&t._buildToggleArray(),t._updateControls(e.command)),t._queue.length<2&&(t._isClicking=!1),t._userCallback=null,i.callback&&(t._userCallback=i.callback),t._execFilter("multiMix",e,t),t._execAction("multiMix",1,arguments),n=i.animate^t.animation.enable?i.animate:t.animation.enable,t._goMix(n,e))},tween:function(t,e){var n=this,i=null,o=null,a=-1,s=-1;for(e=Math.min(e,1),e=Math.max(e,0),s=0;i=t.show[s];s++)o=t.showPosData[s],i.applyTween(o,e);for(s=0;i=t.hide[s];s++)i.dom.el.style.display&&i.hide(),(a=t.toHide.indexOf(i))>-1&&(o=t.toHidePosData[a],i.dom.el.style.display||i.show(n.layout.display),i.applyTween(o,e))},insert:function(){var t=this,e=t._parseInsertArgs(arguments);return t.multiMix({insert:e.command},e.animate,e.callback)},insertBefore:function(){var t=this,e=t._parseInsertArgs(arguments);return t.insert(e.command.targets,"before",e.command.sibling,e.animate,e.callback)},insertAfter:function(){var t=this,e=t._parseInsertArgs(arguments);return t.insert(e.command.targets,"after",e.command.sibling,e.animate,e.callback)},prepend:function(){var t=this,e=t._parseInsertArgs(arguments);return t.insert(0,e.command.targets,e.animate,e.callback)},append:function(){var t=this,e=t._parseInsertArgs(arguments);return t.insert(t._state.totalTargets,e.command.targets,e.animate,e.callback)},remove:function(){var t=this,e=t._parseRemoveArgs(arguments);return t.multiMix({remove:e.command},e.animate,e.callback)},getOption:function(t){},setOptions:function(t){var e=this;e._execAction("setOptions",0,arguments),e._execAction("setOptions",1,arguments)},getState:function(){var t=this;return t._execFilter("getState",t._state,t)},forceRefresh:function(){var t=this;t._indexTargets()},destroy:function(t){var i=this,o=null,a=null,s=0;for(i._execAction("destroy",0,arguments),i._unbindEvents(),s=0;o=i._targets[s];s++)t&&o.hide(),o.unbindEvents();for(s=0;a=i._dom.allButtons[s];s++)n.removeClass(a,i.controls.activeClass);i._dom.container.id.indexOf("MixItUp")>-1&&i._dom.container.removeAttribute("id"),delete e.Mixer.prototype._instances[i._id],i._execAction("destroy",1,arguments)}}),e.TargetDom=function(){this._execAction("constructor",0),this.el=null,this._execAction("constructor",1),n.seal(this)},e.TargetDom.prototype=new e.BasePrototype,e.Target=function(){this._execAction("constructor",0),this.sortString="",this.mixer=null,this.callback=null,this.isShown=!1,this.isBound=!1,this.isExcluded=!1,this.handler=null,this.operation=null,this.dom=new e.TargetDom,this._execAction("constructor",1),n.seal(this)},e.Target.prototype=new e.BasePrototype,n.extend(e.Target.prototype,{constructor:e.Target,init:function(t,e){var n=this;n._execAction("init",0,arguments),n.mixer=e,n.cacheDom(t),n.bindEvents(),!!n.dom.el.style.display&&(n.isShown=!0),n._execAction("init",1,arguments)},cacheDom:function(t){var e=this;e._execAction("cacheDom",0,arguments),e.dom.el=t,e._execAction("cacheDom",1,arguments)},getSortString:function(t){var e=this,n=e.dom.el.getAttribute("data-"+t)||"";e._execAction("getSortString",0,arguments),n=isNaN(1*n)?n.toLowerCase():1*n,e.sortString=n,e._execAction("getSortString",1,arguments)},show:function(t){var e=this;e._execAction("show",0,arguments),e.dom.el.style.display&&e.dom.el.style.display===t||(e.dom.el.style.display=t),e._execAction("show",1,arguments)},hide:function(){var t=this;t._execAction("hide",0,arguments),t.dom.el.style.display="",t._execAction("hide",1,arguments)},move:function(t){var e=this;e._execAction("move",0,arguments),e.isExcluded||e.mixer._targetsMoved++,e.applyStylesIn({posIn:t.posIn,hideOrShow:t.hideOrShow}),requestAnimationFrame(function(){e.applyStylesOut(t)}),e._execAction("move",1,arguments)},applyTween:function(t,n){var i=this,o="",a=null,s=t.posIn,r=[],l=new e.StyleData,c=-1;for(i._execAction("applyTween",0,arguments),l.display=i.mixer.layout.display,l.x=s.x,l.y=s.y,0===n?(l.display="none",s.display===l.display&&i.hide()):i.dom.el.style.display||i.show(i.mixer.layout.display),c=0;o=e.features.TWEENABLE[c];c++)if(a=t.tweenData[o],"x"===o){if(!a)continue;l.x=s.x+a*n}else if("y"===o){if(!a)continue;l.y=s.y+a*n}else if(a instanceof e.TransformData){if(!a.value)continue;l[o].value=s[o].value+a.value*n,l[o].unit=a.unit,r.push(o+"("+l[o].value+a.unit+")")}else if("display"!==o){if(!a)continue;l[o]=s[o]+a*n,i.dom.el.style[o]=l[o]}(l.x||l.y)&&r.unshift("translate("+l.x+"px, "+l.y+"px)"),r.length&&(i.dom.el.style[e.features.transformProp]=r.join(" ")),i._execAction("applyTween",1,arguments)},applyStylesIn:function(t){var n=this,i=t.posIn,o=1!==n.mixer._effectsIn.opacity,a=[];n._execAction("applyStylesIn",0,arguments),a.push("translate("+i.x+"px, "+i.y+"px)"),!t.hideOrShow&&n.mixer.animation.animateResizeTargets&&(n.dom.el.style.width=i.width+"px",n.dom.el.style.height=i.height+"px",n.dom.el.style.marginRight=i.marginRight+"px",n.dom.el.style.marginBottom=i.marginBottom+"px"),o&&(n.dom.el.style.opacity=i.opacity),"show"===t.hideOrShow&&(a=a.concat(n.mixer._transformIn)),n.dom.el.style[e.features.transformProp]=a.join(" "),n._execAction("applyStylesIn",1,arguments)},applyStylesOut:function(t){var n=this,i=[],o=[],a=n.mixer.animation.animateResizeTargets,s="undefined"!=typeof n.mixer._effectsIn.opacity;if(n._execAction("applyStylesOut",0,arguments),i.push(n.writeTransitionRule(e.features.transformRule,t.staggerIndex)),t.hideOrShow&&i.push(n.writeTransitionRule("opacity",t.staggerIndex,t.duration)),n.mixer.animation.animateResizeTargets&&t.posOut.display&&(i.push(n.writeTransitionRule("width",t.staggerIndex,t.duration)),i.push(n.writeTransitionRule("height",t.staggerIndex,t.duration)),i.push(n.writeTransitionRule("margin",t.staggerIndex,t.duration))),!t.callback)return n.mixer._targetsImmovable++,void(n.mixer._targetsMoved===n.mixer._targetsImmovable&&n.mixer.cleanUp(t.operation));switch(n.operation=t.operation,n.callback=t.callback,!n.isExcluded&&n.mixer._targetsBound++,n.isBound=!0,n.applyTransition(i),a&&t.posOut.display&&(n.dom.el.style.width=t.posOut.width+"px",n.dom.el.style.height=t.posOut.height+"px",n.dom.el.style.marginRight=t.posOut.marginRight+"px",n.dom.el.style.marginBottom=t.posOut.marginBottom+"px"),n.mixer.animation.nudgeOut||"hide"!==t.hideOrShow||o.push("translate("+t.posOut.x+"px, "+t.posOut.y+"px)"),t.hideOrShow){case"hide":s&&(n.dom.el.style.opacity=n.mixer._effectsOut.opacity),o=o.concat(n.mixer._transformOut);break;case"show":s&&(n.dom.el.style.opacity=1)}(n.mixer.animation.nudgeOut||!n.mixer.animation.nudgeOut&&"hide"!==t.hideOrShow)&&o.push("translate("+t.posOut.x+"px, "+t.posOut.y+"px)"),n.dom.el.style[e.features.transformProp]=o.join(" "),n._execAction("applyStylesOut",1,arguments)},writeTransitionRule:function(t,e,n){var i=this,o=i.getDelay(e),a="";return a=t+" "+(n||i.mixer.animation.duration)+"ms "+o+"ms "+("opacity"===t?"linear":i.mixer.animation.easing),i._execFilter("writeTransitionRule",a,arguments)},getDelay:function(t){var e=this,n=-1;return"function"==typeof e.mixer.animation.staggerSequence&&(t=e.mixer.animation.staggerSequence.call(e,t,e._state)),n=e.mixer._staggerDuration?t*e.mixer._staggerDuration:0,e._execFilter("getDelay",n,arguments)},applyTransition:function(t){var n=this,i=t.join(", ");n._execAction("applyTransition",0,arguments),n.dom.el.style[e.features.transitionProp]=i,n._execAction("applyTransition",1,arguments)},handleTransitionEnd:function(t){var e=this,n=t.propertyName,i=e.mixer.animation.animateResizeTargets;e._execAction("handleTransitionEnd",0,arguments),e.isBound&&t.target.matches(e.mixer.selectors.target)&&(n.indexOf("transform")>-1||n.indexOf("opacity")>-1||i&&n.indexOf("height")>-1||i&&n.indexOf("width")>-1||i&&n.indexOf("margin")>-1)&&(e.callback.call(e,e.operation),e.isBound=!1,e.callback=null,e.operation=null),e._execAction("handleTransitionEnd",1,arguments)},eventBus:function(t){var e=this;switch(e._execAction("eventBus",0,arguments),t.type){case"webkitTransitionEnd":case"transitionend":e.handleTransitionEnd(t)}e._execAction("eventBus",1,arguments)},unbindEvents:function(){var t=this;t._execAction("unbindEvents",0,arguments),n.off(t.dom.el,"webkitTransitionEnd",t.handler),n.off(t.dom.el,"transitionEnd",t.handler),t._execAction("unbindEvents",1,arguments)},bindEvents:function(){var t=this,e="webkit"===t.mixer._transitionPrefix?"webkitTransitionEnd":"transitionend";t._execAction("bindEvents",0,arguments),t.handler=function(e){return t.eventBus(e)},n.on(t.dom.el,e,t.handler),t._execAction("bindEvents",1,arguments)},getPosData:function(){var n=this,i={},o=null,a=new e.StyleData;return n._execAction("getPosData",0,arguments),a.x=n.dom.el.offsetLeft,a.y=n.dom.el.offsetTop,a.display=n.dom.el.style.display||"none",n.mixer.animation.animateResizeTargets&&(o=n.dom.el.getBoundingClientRect(),i=t.getComputedStyle(n.dom.el),a.width=o.width,a.height=o.height,a.marginBottom=parseFloat(i.marginBottom),a.marginRight=parseFloat(i.marginRight)),n._execFilter("getPosData",a,arguments)},cleanUp:function(){var t=this;t._execAction("cleanUp",0,arguments),t.dom.el.style[e.features.transformProp]="",t.dom.el.style[e.features.transitionProp]="",t.dom.el.style.opacity="",t.mixer.animation.animateResizeTargets&&(t.dom.el.style.width="",t.dom.el.style.height="",t.dom.el.style.marginRight="",t.dom.el.style.marginBottom=""),t._execAction("cleanUp",1,arguments)}}),e.Collection=function(t){var e=null,n=-1;for(n=0;e=t[n];n++)this[n]=e;this.length=t.length},e.Collection.prototype["do"]=function(t){var n=this,i=null,o=Array.prototype.slice.call(arguments),a=[],s=null,r=-1;for(o.shift(),r=0;i=n[r];r++)!s&&i.libraries.q&&(s=i.libraries.q),a.push(i[t].apply(i,o));return s?s.all(a):e.Mixer.prototype._has._promises?Promise.all(a):void 0},e.Operation=function(){this._execAction("constructor",0),this.id="",this.args=[],this.command=null,this.showPosData=[],this.toHidePosData=[],this.startState=null,this.newState=null,this.docState=null,this.willSort=!1,this.willChangeLayout=!1,this.hasEffect=!1,this.show=[],this.hide=[],this.matching=[],this.toShow=[],this.toHide=[],this.toMove=[],this.toRemove=[],this.startOrder=[],this.newOrder=[],this.newSort=null,this.startSortString="",this.newSortString="",this.startFilter=null,this.newFilter=null,this.startHeight=0,this.startWidth=0,this.newHeight=0,this.newWidth=0,this.startContainerClass="",this.startDisplay="",this.newContainerClass="",this.newDisplay="",this._execAction("constructor",1),n.seal(this)},e.Operation.prototype=new e.BasePrototype,e.State=function(){this._execAction("constructor",0),this.activeFilter="",this.activeSort="",this.activeDisplay="",this.activeContainerClass="",this.targets=[],this.hide=[],this.show=[],this.matching=[],this.totalTargets=-1,this.totalShow=-1,this.totalHide=-1,this.totalMatching=-1,this.hasFailed=!1,this.triggerElement=null,this._execAction("constructor",1),n.seal(this)},e.State.prototype=new e.BasePrototype,e.UserInstruction=function(){this._execAction("constructor",0),this.command={},this.animate=!1,this.callback=null,this._execAction("constructor",1),n.seal(this)},e.UserInstruction.prototype=new e.BasePrototype,e.Messages=function(){this._execAction("constructor",0),this[100]="[MixItUp] 100 ERROR: An invalid selector or element was passed to the mixitup factory function.",this[101]="[MixItUp] 101 ERROR: Invalid effects string",this[150]='[MixItUp] 102 ERROR: No elements were passed to "insert"',this[151]="[MixItUp] 103 ERROR: An element to be inserted already exists in the container",this[200]="[MixItUp] 200 WARNING: This element already has an active MixItUp instance. The provided configuration object will be ignored. If you wish to perform additional methods on this instance, please create a reference.",this[201]="[MixItUp] 201 WARNING: An operation was requested but the MixItUp instance was busy. The operation was rejected because queueing is disabled or the queue is full.",this[202]="[MixItUp] 202 WARNING: Operations cannot be requested while MixItUp is busy.",this[250]="[MixItUp] 250 WARNING: The requested sorting data attribute was not present on one or more target elements which may product unexpected sort output",this._execAction("constructor",1),n.seal(this)},e.Messages.prototype=new e.BasePrototype,e.messages=new e.Messages,e.Features=function(){this._execAction("constructor",0),this.boxSizingPrefix="",this.transformPrefix="",this.transitionPrefix="",this.boxSizingPrefix="",this.transformProp="",this.transformRule="",this.transitionProp="",this.perspectiveProp="",this.perspectiveOriginProp="",this.has=new e.Has,this.is=new e.Is,this.canary=null,this.BOX_SIZING_PROP="boxSizing",this.TRANSITION_PROP="transition",this.TRANSFORM_PROP="transform",this.PERSPECTIVE_PROP="perspective",this.PERSPECTIVE_ORIGIN_PROP="perspectiveOrigin",this.VENDORS=["Webkit","moz","O","ms"],this.TWEENABLE=["opacity","width","height","marginRight","marginBottom","x","y","scale","translateX","translateY","translateZ","rotateX","rotateY","rotateZ"],this._execAction("constructor",1)},e.Features.prototype=new e.BasePrototype,n.extend(e.Features.prototype,{init:function(){var t=this;t._execAction("init",0),t.canary=document.createElement("div"),t.runTests(),t.setPrefixes(),t.applyPolyfills(),t._execAction("init",1)},runTests:function(){var e=this;e._execAction("runTests",0),e.has.promises="function"==typeof Promise,e.has.transitions="unsupported"!==e.transitionPrefix,e.is.oldIe=t.atob?!1:!0,e._execAction("runTests",1)},setPrefixes:function(){var t=this;t._execAction("setPrefixes",0),t.transitionPrefix=n.getPrefix(t.canary,"Transition",t.VENDORS),t.transformPrefix=n.getPrefix(t.canary,"Transform",t.VENDORS),t.boxSizingPrefix=n.getPrefix(t.canary,"BoxSizing",t.VENDORS),t.boxSizingProp=t.boxSizingPrefix?t.boxSizingPrefix+n.camelCase(t.BOX_SIZING_PROP,!0):t.BOX_SIZING_PROP,t.transitionProp=t.transitionPrefix?t.transitionPrefix+n.camelCase(t.TRANSITION_PROP,!0):t.TRANSITION_PROP,t.transformProp=t.transitionPrefix?t.transformPrefix+n.camelCase(t.TRANSFORM_PROP,!0):t.TRANSFORM_PROP,t.transformRule=t.transformPrefix?t.transformPrefix+"-"+t.TRANSFORM_PROP:t.TRANSFORM_PROP,t.perspectiveProp=t.transformPrefix?t.transformPrefix+n.camelCase(t.PERSPECTIVE_PROP,!0):t.PERSPECTIVE_PROP,t.perspectiveOriginProp=t.transformPrefix?t.transformPrefix+n.camelCase(t.PERSPECTIVE_ORIGIN_PROP,!0):t.PERSPECTIVE_ORIGIN_PROP,t._execAction("setPrefixes",1)},applyPolyfills:function(){var e=this,n=-1;for(e._execAction("applyPolyfills",0),n=0;n<e.VENDORS.length&&!t.requestAnimationFrame;n++)t.requestAnimationFrame=t[e.VENDORS[n]+"RequestAnimationFrame"];"undefined"==typeof e.canary.nextElementSibling&&Object.defineProperty(Element.prototype,"nextElementSibling",{get:function(){for(var t=this.nextSibling;t;){if(1===t.nodeType)return t;t=t.nextSibling}return null}}),function(t){t.matches=t.matches||t.machesSelector||t.mozMatchesSelector||t.msMatchesSelector||t.oMatchesSelector||t.webkitMatchesSelector||function(t){for(var e=(this.parentNode||this.doc).querySelectorAll(t),n=-1;e[++n]&&e[n]!=this;)return!!e[n]}}(Element.prototype),e._execAction("applyPolyfills",1)}}),e.Has=function(){this.transitions=!1,this.promises=!1},e.Is=function(){this.oldIe=!1},e.features=new e.Features,e.features.init(),"object"==typeof exports&&"object"==typeof module?module.exports=e:"function"==typeof define&&define.amd?define(function(){return e}):("undefined"==typeof t.mixitup||"function"!=typeof t.mixitup)&&(t.mixitup=t.mixItUp=e)}(window);