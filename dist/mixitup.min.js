/**!
 * MixItUp v3.0.0-beta
 *
 * @copyright Copyright 2014-2016 KunkaLabs Limited.
 * @author    KunkaLabs Limited.
 * @link      https://kunkalabs.com/mixitup/
 *
 * @license   Commercial use requires a commercial license.
 *            https://kunkalabs.com/mixitup/licenses
 *
 *            Non-commercial use permitted under same terms as  license.
 *            http://creativecommons.org/licenses/by-nc/3.0/
 */
!function(t){"use strict";var e=null,a=null;e=function(n,i,o,r){var s=null,l=null,c=null,u=[],_="",d="",m=[],g=-1;if(c=o||t.document,i&&"object"==typeof i.extensions)for(d in i.extensions)i.extensions[d](e);if((!n||"string"!=typeof n&&"object"!=typeof n)&&a.canReportErrors(i))throw new Error("[MixItUp] Invalid selector or element");switch(typeof n){case"string":m=c.querySelectorAll(n);break;case"object":a.isElement(n,c)?m=[n]:n.length&&(m=n)}for(g=0;s=m[g];g++)s.id?_=s.id:(_="MixItUp"+a.randomHexKey(),s.id=_),"undefined"==typeof e.Mixer.prototype._instances[_]?(l=new e.Mixer,l._id=_,l._dom.document=o||t.document,l._init(s,i),e.Mixer.prototype._instances[_]=l):e.Mixer.prototype._instances[_]instanceof e.Mixer&&(l=e.Mixer.prototype._instances[_],i&&a.canReportErrors(i)&&console.warn("[MixItUp] This element already has an active instance.Config will be ignored.")),u.push(l);return r?new e.Collection(u):u[0]},e.prototype.all=function(t,e,a){var n=this;return n.constructor(t,e,a,!0)},e.CORE_VERSION="3.0.0-beta",e.h=a,e.basePrototype={extend:function(t){var e="";for(e in t)t[e]&&(this[e]=t[e])},addAction:function(t,e,a,n){this._addHook("_actions",t,e,a,n)},addFilter:function(t,e,a){this._addHook("_filters",t,e,a)},_addHook:function(t,e,n,i,o){var r=this[t],s={};o=1===o||"post"===o?"post":"pre",s[e]={},s[e][o]={},s[e][o][n]=i,a.extend(r,s)},_execAction:function(t,e,a){var n=this,i="",o=e?"post":"pre";if(!n._actions.isEmptyObject&&n._actions.hasOwnProperty(t))for(i in n._actions[t][o])n._actions[t][o][i].call(n,a)},_execFilter:function(t,e,a){var n=this,i="";if(n._filters.isEmptyObject||!n._filters.hasOwnProperty(t))return e;for(i in n._filters[t].pre)return n._filters[t].pre[i].call(n,e,a)}},e.Mixer=function(){var t=this;t._execAction("_constructor",0),a.extend(t,{selectors:{target:".mix",filter:".filter",filterToggle:".filter-toggle",multiMix:".multimix",sort:".sort"},animation:{enable:!0,effects:"fade scale",effectsIn:"",effectsOut:"",duration:600,easing:"ease",perspectiveDistance:"3000",perspectiveOrigin:"50% 50%",queue:!0,queueLimit:1,animateChangeLayout:!1,animateResizeContainer:!0,animateResizeTargets:!1,staggerSequence:null,reverseOut:!1,nudgeOut:!0},callbacks:{onMixLoad:null,onMixStart:null,onMixBusy:null,onMixEnd:null,onMixFail:null,onMixClick:null},controls:{enable:!0,live:!1,toggleFilterButtons:!1,toggleLogic:"or",toggleDefault:"all",activeClass:"active"},layout:{allowNestedTargets:!1,display:"inline-block",containerClass:"",containerClassFail:"fail"},load:{filter:"all",sort:!1},libraries:{q:null},debug:{enable:!0},document:null,extensions:null,_dom:{document:null,body:null,container:null,targets:[],parent:null,sortButtons:[],filterButtons:[],filterToggleButtons:[],multiMixButtons:[],allButtons:[]},_id:"",_isMixing:!1,_isClicking:!1,_isLoading:!0,_targets:[],_origOrder:[],_toggleArray:[],_toggleString:"",_staggerDuration:0,_incPadding:!0,_targetsMoved:0,_targetsImmovable:0,_targetsBound:0,_targetsDone:0,_userPromise:null,_userCallback:null,_effectsIn:null,_effectsOut:null,_transformIn:[],_transformOut:[],_queue:[],handler:null,_state:null,_lastOperation:null,_lastClicked:null,_vendor:""}),t._execAction("_constructor",1),a.seal(this),a.seal(this.selectors),a.seal(this.animation),a.seal(this.callbacks),a.seal(this.controls),a.seal(this.layout),a.seal(this.load),a.seal(this.libraries),a.seal(this.debug),a.seal(this._dom)},e.Mixer.prototype=Object.create(e.basePrototype),a.extend(e.Mixer.prototype,{constructor:e.Mixer,_actions:{},_filters:{},_transformProp:"transform",_transformRule:"transform",_transitionProp:"transition",_perspectiveProp:"perspective",_perspectiveOriginProp:"perspectiveOrigin",_tweenable:["opacity","width","height","marginRight","marginBottom","x","y","scale","translateX","translateY","translateZ","rotateX","rotateY","rotateZ"],_transformDefaults:{scale:{value:.01,unit:""},translateX:{value:20,unit:"px"},translateY:{value:20,unit:"px"},translateZ:{value:20,unit:"px"},rotateX:{value:90,unit:"deg"},rotateY:{value:90,unit:"deg"},rotateZ:{value:180,unit:"deg"}},_is:{},has:{},_instances:{},handled:{_filterToggle:{},_multimix:{},_filter:{},_sort:{}},_bound:{_filterToggle:{},_multimix:{},_filter:{},_sort:{}},_featureDetect:function(){var n=this,i=document.createElement("div"),o=["Webkit","Moz","O","ms"],r=["webkit","moz"],s=a.getPrefix(i,"Transition",o),l=a.getPrefix(i,"Transform",o),c=-1;for(n._execAction("_featureDetect",0),n._vendor=l,e.Mixer.prototype.has._promises="function"==typeof Promise,e.Mixer.prototype.has._transitions="unsupported"!==s,e.Mixer.prototype._is._crapIe=t.atob?!1:!0,e.Mixer.prototype._transitionProp=s?s+"Transition":"transition",e.Mixer.prototype._transformProp=l?l+"Transform":"transform",e.Mixer.prototype._transformRule=l?"-"+l+"-transform":"transform",e.Mixer.prototype._perspectiveProp=l?l+"Perspective":"perspective",e.Mixer.prototype._perspectiveOriginProp=l?l+"PerspectiveOrigin":"perspectiveOrigin",c=0;c<r.length&&!t.requestAnimationFrame;c++)t.requestAnimationFrame=t[r[c]+"RequestAnimationFrame"];"undefined"==typeof i.nextElementSibling&&Object.defineProperty(Element.prototype,"nextElementSibling",{get:function(){for(var t=this.nextSibling;t;){if(1===t.nodeType)return t;t=t.nextSibling}return null}}),function(t){t.matches=t.matches||t.machesSelector||t.mozMatchesSelector||t.msMatchesSelector||t.oMatchesSelector||t.webkitMatchesSelector||function(t){for(var e=(this.parentNode||this.doc).querySelectorAll(t),a=-1;e[++a]&&e[a]!=this;)return!!e[a]}}(Element.prototype),n._execAction("_featureDetect",1)},_init:function(t,n){var i=this,o=new e.State,r=new e.Operation;i._execAction("_init",0,arguments),n&&a.extend(i,n),i._cacheDom(t),i.layout.containerClass&&a.addClass(t,i.layout.containerClass),i.animation.enable=i.animation.enable&&e.Mixer.prototype.has._transitions,i._indexTargets(),o.activeFilter="all"===i.load.filter?i.selectors.target:"none"===i.load.filter?"":i.load.filter,o.activeSort=i.load.sort,o.activeContainerClass=i.layout.containerClass,o.activeDisplay=i.layout.display,o.activeSort&&(r.startSortString="default:asc",r.startOrder=i._targets,r.newSort=i._parseSort(o.activeSort),r.newSortString=o.activeSort,i._sort(r),i._printSort(!1,r),i._targets=r.newOrder),i._updateControls({filter:o.activeFilter,sort:o.activeSort}),i._parseEffects(),i._bindEvents(),i._state=o,i._dom.filterToggleButtons.length&&i._buildToggleArray(),i._execAction("_init",1,arguments)},_cacheDom:function(t){var e=this;e._execAction("_cacheDom",0,arguments),e._dom.body=e._dom.documentgetElementsByTagName("body")[0],e._dom.container=t,e._dom.parent=t,e._dom.sortButtons=Array.prototype.slice.call(e._dom.documentquerySelectorAll(e.selectors.sort)),e._dom.filterButtons=Array.prototype.slice.call(e._dom.documentquerySelectorAll(e.selectors.filter)),e._dom.filterToggleButtons=Array.prototype.slice.call(e._dom.documentquerySelectorAll(e.selectors.filterToggle)),e._dom.multiMixButtons=Array.prototype.slice.call(e._dom.documentquerySelectorAll(e.selectors.multiMix)),e._dom.allButtons=e._dom.filterButtons.concat(e._dom.sortButtons).concat(e._dom.filterToggleButtons).concat(e._dom.multiMixButtons),e._execAction("_cacheDom",1,arguments)},_indexTargets:function(){var t=this,n=null,i=null,o=-1;if(t._execAction("_indexTargets",0,arguments),t._dom.targets=t.layout.allowNestedTargets?t._dom.container.querySelectorAll(t.selectors.target):a.children(t._dom.container,t.selectors.target,t._dom.document),t._dom.targets=Array.prototype.slice.call(t._dom.targets),t._targets=[],t._dom.targets.length){for(o=0;i=t._dom.targets[o];o++)n=new e.Target,n._init(i,t),t._targets.push(n);t._dom.parent=t._dom.targets[0].parentElement.isEqualNode(t._dom.container)?t._dom.container:t._dom.targets[0].parentElement}t._origOrder=t._targets,t._execAction("_indexTargets",1,arguments)},_bindEvents:function(){var n=this,i=e.Mixer.prototype,o=i._bound._filterToggle,r=i._bound._multimix,s=i._bound._filter,l=i._bound._sort,c=null,u=-1;if(n._execAction("_bindEvents",0),n.handler=function(t){return n._eventBus(t)},n.controls.live)a.on(t,"click",n.handler);else for(u=0;c=n._dom.allButtons[u];u++)a.on(c,"click",n.handler);o[n.selectors.filterToggle]="undefined"==typeof o[n.selectors.filterToggle]?1:o[n.selectors.filterToggle]+1,r[n.selectors.filter]="undefined"==typeof r[n.selectors.filter]?1:r[n.selectors.multimix]+1,s[n.selectors.filter]="undefined"==typeof s[n.selectors.filter]?1:s[n.selectors.filter]+1,l[n.selectors.sort]="undefined"==typeof l[n.selectors.sort]?1:l[n.selectors.sort]+1,n._execAction("_bindEvents",1)},_unbindEvents:function(){var e=this,n=null,i=-1;for(e._execAction("_unbindEvents",0),a.off(t,"click",e.handler),i=0;n=e._dom.allButtons[i];i++)a.on(n,"click",e.handler);e._execAction("_unbindEvents",1)},_eventBus:function(t){var e=this;switch(t.type){case"click":return e.handleClick(t)}},handleClick:function(t){var e=this,n=[],i="",o="or"===e.controls.toggleLogic?",":"",r=null,s={},l="",c="",u="",_=!1,d=null,m="",g=-1;e._execAction("handleClick",0,arguments);for(m in e.selectors)n.push(e.selectors[m]);if(i=n.join(","),r=a.closestParent(t.target,i,!0,1/0,e._dom.document)){if("function"==typeof e.callbacks.onMixClick&&e.callbacks.onMixClick.call(r,e._state,e),e._isMixing&&(!e.animation.queue||e._queue.length>=e.animation.queueLimit))return"function"==typeof e.callbacks.onMixBusy&&e.callbacks.onMixBusy.call(e._dom.container,e._state,e),void e._execAction("handleClickBusy",1,arguments);if(e._isClicking=!0,r.matches(e.selectors.sort)){if(c=r.getAttribute("data-sort"),a.hasClass(r,e.controls.activeClass)&&!(c.indexOf("random")>-1))return;for(u="sort",g=0;d=e._dom.sortButtons[g];g++)a.removeClass(d,e.controls.activeClass);s={sort:c}}else if(r.matches(e.selectors.filter)){if(a.hasClass(r,e.controls.activeClass))return;for(u="filter",g=0;d=e._dom.filterButtons[g];g++)a.removeClass(d,e.controls.activeClass);for(g=0;d=e._dom.filterToggleButtons[g];g++)a.removeClass(d,e.controls.activeClass);s={filter:r.getAttribute("data-filter")}}else if(r.matches(e.selectors.filterToggle)){for(l=r.getAttribute("data-filter"),u="filterToggle",g=0;d=e._dom.filterButtons[g];g++)a.removeClass(d,e.controls.activeClass);for(g=0;d=e._dom.multiMixButtons[g];g++)a.removeClass(d,e.controls.activeClass);e._buildToggleArray(),a.hasClass(r,e.controls.activeClass)?(e._toggleArray.splice(e._toggleArray.indexOf(l),1),_=!0):e._toggleArray.push(l),e._toggleArray=a.clean(e._toggleArray),e._toggleString=e._toggleArray.join(o),""===e._toggleString?(e._toggleString=e.controls.toggleDefault,s={filter:e._toggleString},e._updateControls(s)):s={filter:e._toggleString}}else if(r.matches(e.selectors.multiMix)){if(a.hasClass(r,e.controls.activeClass))return;for(u="multiMix",g=0;d=e._dom.filterButtons[g];g++)a.removeClass(d,e.controls.activeClass);for(g=0;d=e._dom.filterToggleButtons[g];g++)a.removeClass(d,e.controls.activeClass);for(g=0;d=e._dom.sortButtons[g];g++)a.removeClass(d,e.controls.activeClass);for(g=0;d=e._dom.multiMixButtons[g];g++)a.removeClass(d,e.controls.activeClass);s={sort:r.getAttribute("data-sort"),filter:r.getAttribute("data-filter")}}u&&(e._trackClick(r,u,_),e.multiMix(s)),e._execAction("handleClick",1,arguments)}},_trackClick:function(t,n,i){var o=this,r=e.Mixer.prototype,s=o.selectors[n];o._lastClicked=t,n="_"+n,r.handled[n][s]="undefined"==typeof r.handled[n][s]?1:r.handled[n][s]+1,r.handled[n][s]===r._bound[n][s]&&(a[(i?"remove":"add")+"Class"](t,o.controls.activeClass),delete r.handled[n][s])},_buildToggleArray:function(){var t=this,e=t._state.activeFilter.replace(/\s/g,""),n="",i=-1;if(e=e===t.selectors.target?"":e,t._execAction("_buildToggleArray",0,arguments),"or"===t.controls.toggleLogic)t._toggleArray=e.split(",");else for(t._toggleArray=e.split("."),!t._toggleArray[0]&&t._toggleArray.shift(),i=0;n=t._toggleArray[i];i++)t._toggleArray[i]="."+n;t._toggleArray=a.clean(t._toggleArray),t._execAction("_buildToggleArray",1,arguments)},_updateControls:function(t){var e=this,n={filter:t.filter,sort:t.sort},i=null,o=null,r=null,s="",l=-1,c=-1,u=-1;for(e._execAction("_updateControls",0,arguments),"undefined"==typeof t.filter&&(n.filter=e._state.activeFilter),"undefined"==typeof t.sort&&(n.sort=e._state.activeSort),n.filter===e.selectors.target&&(n.filter="all"),l=0;r=e._dom.sortButtons[l];l++)a.removeClass(r,e.controls.activeClass),r.matches('[data-sort="'+n.sort+'"]')&&a.addClass(r,e.controls.activeClass);for(l=0;r=e._dom.filterButtons[l];l++)a.removeClass(r,e.controls.activeClass),r.matches('[data-filter="'+n.filter+'"]')&&a.addClass(r,e.controls.activeClass);for(l=0;r=e._dom.multiMixButtons[l];l++)a.removeClass(r,e.controls.activeClass),r.matches('[data-sort="'+n.sort+'"]')&&r.matches('[data-filter="'+n.filter+'"]')&&a.addClass(r,e.controls.activeClass);if(e._toggleArray.length){if("none"===n.filter||""===n.filter)for(l=0;r=e._dom.filterToggleButtons[l];l++)a.removeClass(r,e.controls.activeClass);for(c=0;s=e._toggleArray[c];c++){if(o=null,e.controls.live)o=e._dom.document.querySelector(e.selectors.filterToggle+'[data-filter="'+s+'"]');else for(u=0;i=e._dom.filterToggleButtons[u];u++)i.matches('[data-filter="'+s+'"]')&&(o=i);o&&a.addClass(o,e.controls.activeClass)}}e._execAction("_updateControls",1,arguments)},_insert:function(t,n){var i=this,o=i._getNextSibling(t.index,t.sibling,t.position),r=i._dom.documentcreateDocumentFragment(),s=null,l=null,c=-1;if(i._execAction("insert",0,arguments),t.targets){for(c=0;l=t.targets[c];c++){if(i._dom.targets.indexOf(l)>-1)throw new Error("[MixItUp] An inserted element already exists in the container");r.appendChild(l),r.appendChild(i._dom.documentcreateTextNode(" ")),a.isElement(l,i._dom.document)&&l.matches(i.selectors.target)&&(s=new e.Target,s._init(l,i),i._targets.splice(t.index,0,s),t.index++)}i._dom.parent.insertBefore(r,o)}n.startOrder=i._origOrder=i._targets,i._execAction("insert",1,arguments)},_getNextSibling:function(t,e,a){var n=this;if(e){if("before"===a)return e;if("after"===a)return e.nextElementSibling||null}return"undefined"!==t?t<n._targets.length||!n._targets.length?n._targets[t]._dom.el:n._targets[n._targets.length-1]._dom.el.nextElementSibling:n._dom.parent.children.length?n._dom.parent.children[0]:null},_filter:function(t){var e=this,n=!1,i=-1,o=null,r=-1;for(e._execAction("_filter",0,arguments),r=0;o=t.newOrder[r];r++)"string"==typeof t.newFilter?(n=""===t.newFilter?!1:o._dom.el.matches(t.newFilter),e._evaluateHideShow(n,o,!1,t)):"object"==typeof t.newFilter&&a.isElement(t.newFilter,e._dom.document)?e._evaluateHideShow(o._dom.el===t.newFilter,o,!1,t):"object"==typeof t.newFilter&&t.newFilter.length&&e._evaluateHideShow(t.newFilter.indexOf(o._dom.el)>-1,o,!1,t);if(t.matching=t.show.slice(),t.toRemove.length)for(r=0;o=t.show[r];r++)t.toRemove.indexOf(o)>-1&&(t.show.splice(r,1),(i=t.toShow.indexOf(o))>-1&&t.toShow.splice(i,1),t.toHide.push(o),t.hide.push(o),r--);e._execAction("_filter",1,arguments)},_evaluateHideShow:function(t,e,a,n){var i=this;t?a&&"string"==typeof n.startFilter?i._evaluateHideShow(e._dom.el.matches(n.startFilter),e,!1,n):(n.show.push(e),!e._isShown&&n.toShow.push(e)):(n.hide.push(e),e._isShown&&n.toHide.push(e))},_sort:function(t){var e=this;switch(e._execAction("_sort",0,arguments),t.startOrder=e._targets,t.newSort[0].sortBy){case"default":t.newOrder=e._origOrder.slice(),"desc"===t.newSort[0].order&&t.newOrder.reverse();break;case"random":t.newOrder=a.arrayShuffle(t.startOrder);break;case"custom":t.newOrder=t.newSort[0].order;break;default:t.newOrder=t.startOrder.slice().sort(function(a,n){return e._compare(a,n,0,t.newSort)})}a.isEqualArray(t.newOrder,t.startOrder)&&(t.willSort=!1),e._execAction("_sort",1,arguments)},_compare:function(t,e,a,n){a=a?a:0;var i=this,o=n[a].order,r=i._getAttributeValue(t,a,n),s=i._getAttributeValue(e,a,n);return isNaN(1*r)||isNaN(1*s)?(r=r.toLowerCase(),s=s.toLowerCase()):(r=1*r,s=1*s),s>r?"asc"===o?-1:1:r>s?"asc"===o?1:-1:r===s&&n.length>a+1?i._compare(t,e,a+1,n):0},_getAttributeValue:function(t,e,n){var i=this,o="";return n=n?n:i._newSort,o=t._dom.el.getAttribute("data-"+n[e].sortBy),null===o&&a.canReportErrors(i)&&console.warn('[MixItUp] The attribute "data-'+i._newSort[e].sortBy+'" was not present on one or more target elements'),o||0},_printSort:function(t,e){var n=this,i=t?e.startOrder:e.newOrder,o=a.children(n._dom.parent,n.selectors.target,n._dom.document),r=o.length?o[o.length-1].nextElementSibling:null,s=n._dom.documentcreateDocumentFragment(),l=null,c=null,u=null,_=-1;for(n._execAction("_printSort",0,arguments),_=0;u=o[_];_++)c=u.nextSibling,"absolute"!==u.style.position&&(c&&"#text"===c.nodeName&&n._dom.parent.removeChild(c),n._dom.parent.removeChild(u));for(_=0;l=i[_];_++)u=l._dom.el,s.appendChild(u),s.appendChild(n._dom.documentcreateTextNode(" "));r?n._dom.parent.insertBefore(s,r):n._dom.parent.appendChild(s),n._execAction("_printSort",1,arguments)},_parseSort:function(t){var e=this,n="string"==typeof t?t.split(" "):[t],i=[],o=null,r=[],s=-1;for(s=0;s<n.length&&(r="string"==typeof t?n[s].split(":"):["custom",n[s]],o={sortBy:a.camelCase(r[0]),order:r[1]||"asc"},i.push(o),"default"!==o.sortBy&&"random"!==o.sortBy);s++);return e._execFilter("_parseSort",i,arguments)},_parseEffects:function(){var t=this,a="",n=t.animation.effectsIn||t.animation.effects,i=t.animation.effectsOut||t.animation.effects;t._effectsIn=new e.StyleData,t._effectsOut=new e.StyleData,t._transformIn=[],t._transformOut=[],t._effectsIn.opacity=t._effectsOut.opacity=1,t._parseEffect("fade",n,t._effectsIn,t._transformIn),t._parseEffect("fade",i,t._effectsOut,t._transformOut,!0);for(a in t._transformDefaults)t._parseEffect(a,n,t._effectsIn,t._transformIn),t._parseEffect(a,i,t._effectsOut,t._transformOut,!0);t._parseEffect("stagger",n,t._effectsIn,t._transformIn),t._parseEffect("stagger",i,t._effectsOut,t._transformOut,!0)},_parseEffect:function(t,e,a,n,i){var o=this,r=/\(([^)]+)\)/,s=-1,l="",c=[],u="",_=["%","px","em","rem","vh","vw","deg"],d="",m=-1;if(!e||"string"!=typeof e)throw new Error("[MixItUp] Invalid effects string");if(!(e.indexOf(t)<0))if(s=e.indexOf(t+"("),s>-1)switch(l=e.substring(s),c=r.exec(l),u=c[1],t){case"fade":a.opacity=parseFloat(u);break;case"stagger":o._staggerDuration=parseFloat(u);break;default:for(m=0;d=_[m];m++)if(u.indexOf(d)>-1){a[t].unit=d;break}i&&o.animation.reverseOut&&"scale"!==t?a[t].value=-1*parseFloat(u):a[t].value=parseFloat(u),n.push(t+"("+a[t].value+a[t].unit+")")}else switch(t){case"fade":a.opacity=0;break;case"stagger":o._staggerDuration=100;break;default:i&&o.animation.reverseOut&&"scale"!==t?a[t].value=o._transformDefaults[t].value:a[t].value=-1*o._transformDefaults[t].value,a[t].unit=o._transformDefaults[t].unit,n.push(t+"("+a[t].value+a[t].unit+")")}},_buildState:function(t){var a=this,n=new e.State,i=null,o=-1;for(a._execAction("_buildState",0),o=0;i=a._targets[o];o++)n.targets.push(i._dom.el);for(o=0;i=t.matching[o];o++)n.matching.push(i._dom.el);for(o=0;i=t.show[o];o++)n.show.push(i._dom.el);for(o=0;i=t.hide[o];o++)n.hide.push(i._dom.el);return n.activeFilter=t.newFilter,n.activeSort=t.newSortString,n.activeContainerClass=t.newContainerClass,n.activeDisplay=t.newDisplay||a.layout.display,n.hasFailed=!t.matching.length&&""!==t.newFilter,n.totalTargets=a._targets.length,n.totalShow=t.show.length,n.totalHide=t.hide.length,n.totalMatching=t.matching.length,n.triggerElement=a._lastClicked,a._execFilter("_buildState",n,arguments)},_goMix:function(n,i){var o=this;return o._execAction("_goMix",0,arguments),o.animation.duration&&a.isVisible(o._dom.container)||(n=!1),i.toShow.length||i.toHide.length||i.willSort||i.willChangeLayout||(n=!1),i.startState.show.length||i.show.length||(n=!1),(!o._userPromise||o._userPromise.isResolved)&&(o._userPromise=a.getPromise(o.libraries)),"function"==typeof o.callbacks.onMixStart&&o.callbacks.onMixStart.call(o._dom.container,i.startState,i.newState,o),a.triggerCustom(o._dom.container,"mixStart",{state:i.startState,futureState:i.newState,instance:o},o._dom.document),n&&e.Mixer.prototype.has._transitions?(o._isMixing=!0,t.pageYOffset!==i.docState.scrollTop&&t.scrollTo(i.docState.scrollLeft,i.docState.scrollTop),o._dom.parent.style[e.Mixer.prototype._perspectiveProp]=o.animation.perspective,o._dom.parent.style[e.Mixer.prototype._perspectiveOriginProp]=o.animation.perspectiveOrigin,o.animation.animateResizeContainer&&(o._dom.parent.style.height=i.startHeight+"px",o._dom.parent.style.width=i.startWidth+"px"),requestAnimationFrame(function(){o._moveTargets(i)})):o._cleanUp(i),o._execAction("_goMix",1,arguments),o._userPromise.promise},_getStartMixData:function(e){var a=this,n=t.getComputedStyle(a._dom.parent),i=a._dom.parent.getBoundingClientRect(),o=null,r={},s=-1,l=n.boxSizing||n[a._vendor+"BoxSizing"];for(a._incPadding="border-box"===l,a._execAction("_getStartMixData",0),s=0;o=e.show[s];s++)r=o._getPosData(),e.showPosData[s]={startPosData:r};for(s=0;o=e.toHide[s];s++)r=o._getPosData(),e.toHidePosData[s]={startPosData:r};e.startHeight=a._incPadding?i.height:i.height-parseFloat(n.paddingTop)-parseFloat(n.paddingBottom)-parseFloat(n.borderTop)-parseFloat(n.borderBottom),e.startWidth=a._incPadding?i.width:i.width-parseFloat(n.paddingLeft)-parseFloat(n.paddingRight)-parseFloat(n.borderLeft)-parseFloat(n.borderRight),a._execAction("_getStartMixData",1)},_setInter:function(t){var e=this,n=null,i=-1;for(e._execAction("_setInter",0),i=0;n=t.toShow[i];i++)n._show(t.willChangeLayout?t.newDisplay:e.layout.display);t.willChangeLayout&&(a.removeClass(e._dom.container,t.startContainerClass),a.addClass(e._dom.container,t.newContainerClass)),e._execAction("_setInter",1)},_getInterMixData:function(t){var e=this,a=null,n=-1;if(e._execAction("_getInterMixData",0),t){for(n=0;a=t.show[n];n++)t.showPosData[n].interPosData=a._getPosData();for(n=0;a=t.toHide[n];n++)t.toHidePosData[n].interPosData=a._getPosData();return void e._execAction("_getInterMixData",1)}for(n=0;a=e._show[n];n++)a._interPosData=a._getPosData();for(n=0;a=e._toHide[n];n++)a._interPosData=a._getPosData()},_setFinal:function(t){var e=this,a=null,n=-1;for(e._execAction("_setFinal",0),t.willSort&&e._printSort(!1,t),n=0;a=t.toHide[n];n++)a.hide();e._execAction("_setFinal",1)},_getFinalMixData:function(e){var n=this,i=null,o=n._dom.parent.getBoundingClientRect(),r=null,s=-1;for(n._incPadding||(i=t.getComputedStyle(n._dom.parent)),n._execAction("_getFinalMixData",0,arguments),s=0;r=e.show[s];s++)e.showPosData[s].finalPosData=r._getPosData();for(s=0;r=e.toHide[s];s++)e.toHidePosData[s].finalPosData=r._getPosData();for(e.newHeight=n._incPadding?o.height:o.height-parseFloat(i.paddingTop)-parseFloat(i.paddingBottom)-parseFloat(i.borderTop)-parseFloat(i.borderBottom),e.newWidth=n._incPadding?o.width:o.width-parseFloat(i.paddingLeft)-parseFloat(i.paddingRight)-parseFloat(i.borderLeft)-parseFloat(i.borderRight),e.willSort&&n._printSort(!0,e),s=0;r=e.toShow[s];s++)r.hide();for(s=0;r=e.toHide[s];s++)r._show(n.layout.display);e.willChangeLayout&&n.animation.animateChangeLayout&&(a.removeClass(n._dom.container,e.newContainerClass),a.addClass(n._dom.container,n.layout.containerClass)),n._execAction("_getFinalMixData",1,arguments)},_getTweenData:function(t){var a=this,n=null,i=null,o=Object.getOwnPropertyNames(a._effectsIn),r="",s=null,l=-1,c=-1;for(l=0;n=t.show[l];l++)for(i=t.showPosData[l],i.posIn=new e.StyleData,i.posOut=new e.StyleData,i.tweenData=new e.StyleData,i.posIn.x=n._isShown?i.startPosData.x-i.interPosData.x:0,i.posIn.y=n._isShown?i.startPosData.y-i.interPosData.y:0,i.posOut.x=i.finalPosData.x-i.interPosData.x,i.posOut.y=i.finalPosData.y-i.interPosData.y,i.posIn.display=n._isShown?a.layout.display:"none",i.posOut.display=a.layout.display,i.posIn.opacity=n._isShown?1:a._effectsIn.opacity,i.posOut.opacity=1,i.tweenData.opacity=i.posOut.opacity-i.posIn.opacity,n._isShown||a.animation.nudgeOut||(i.posIn.x=i.posOut.x,i.posIn.y=i.posOut.y),i.tweenData.x=i.posOut.x-i.posIn.x,i.tweenData.y=i.posOut.y-i.posIn.y,a.animation.animateResizeTargets&&(i.posIn.width=i.startPosData.width,i.posIn.height=i.startPosData.height,i.startPosData.width-i.finalPosData.width?i.posIn.marginRight=-(i.startPosData.width-i.interPosData.width)+1*i.startPosData.marginRight:i.posIn.marginRight=i.startPosData.marginRight,i.startPosData.height-i.finalPosData.height?i.posIn.marginBottom=-(i.startPosData.height-i.interPosData.height)+1*i.startPosData.marginBottom:i.posIn.marginBottom=i.startPosData.marginBottom,i.posOut.width=i.finalPosData.width,i.posOut.height=i.finalPosData.height,i.posOut.marginRight=-(i.finalPosData.width-i.interPosData.width)+1*i.finalPosData.marginRight,i.posOut.marginBottom=-(i.finalPosData.height-i.interPosData.height)+1*i.finalPosData.marginBottom,i.tweenData.width=i.posOut.width-i.posIn.width,i.tweenData.height=i.posOut.height-i.posIn.height,i.tweenData.marginRight=i.posOut.marginRight-i.posIn.marginRight,i.tweenData.marginBottom=i.posOut.marginBottom-i.posIn.marginBottom),c=0;r=o[c];c++)s=a._effectsIn[r],s instanceof e.TransformData&&s.value&&(i.posIn[r].value=s.value,i.posOut[r].value=0,i.tweenData[r].value=i.posOut[r].value-i.posIn[r].value,i.posIn[r].unit=i.posOut[r].unit=i.tweenData[r].unit=s.unit);for(l=0;n=t.toHide[l];l++)for(i=t.toHidePosData[l],i.posIn=new e.StyleData,i.posOut=new e.StyleData,i.tweenData=new e.StyleData,i.posIn.x=n._isShown?i.startPosData.x-i.interPosData.x:0,i.posIn.y=n._isShown?i.startPosData.y-i.interPosData.y:0,i.posOut.x=a.animation.nudgeOut?0:i.posIn.x,i.posOut.y=a.animation.nudgeOut?0:i.posIn.y,i.tweenData.x=i.posOut.x-i.posIn.x,i.tweenData.y=i.posOut.y-i.posIn.y,i.posIn.display=a.layout.display,i.posOut.display="none",i.posIn.opacity=1,i.posOut.opacity=a._effectsOut.opacity,i.tweenData.opacity=i.posOut.opacity-i.posIn.opacity,c=0;r=o[c];c++)s=a._effectsOut[r],s instanceof e.TransformData&&s.value&&(i.posIn[r].value=0,i.posOut[r].value=s.value,i.tweenData[r].value=i.posOut[r].value-i.posIn[r].value,i.posIn[r].unit=i.posOut[r].unit=i.tweenData[r].unit=s.unit)},_moveTargets:function(t){var n=this,i=null,o=null,r="",s=!1,l=-1,c=-1,u=a.bind(n,n._checkProgress);for(c=0;i=t.show[c];c++)o=t.showPosData[c],r=i._isShown?!1:"show",s=n._willTransition(r,t.hasEffect,o.posIn,o.posOut),s&&l++,i._show(t.willChangeLayout?t.newDisplay:n.layout.display),i._move({posIn:o.posIn,posOut:o.posOut,hideOrShow:r,staggerIndex:l,operation:t,callback:s?u:null});for(c=0;i=t.toHide[c];c++)o=t.toHidePosData[c],r="hide",s=n._willTransition(r,o.posIn,o.posOut),i._move({posIn:o.posIn,posOut:o.posOut,hideOrShow:r,staggerIndex:c,operation:t,callback:s?u:null});n._dom.parent.style.perspective=n.animation.perspectiveDistance+"px",n._dom.parent.style.perspectiveOrigin=n.animation.perspectiveOrigin,n.animation.animateResizeContainer&&(n._dom.parent.style[e.Mixer.prototype._transitionProp]="height "+n.animation.duration+"ms ease, width "+n.animation.duration+"ms ease, ",requestAnimationFrame(function(){n._dom.parent.style.height=t.newHeight+"px",n._dom.parent.style.width=t.newWidth+"px"})),t.willChangeLayout&&(a.removeClass(n._dom.container,n.layout.containerClass),a.addClass(n._dom.container,t.newContainerClass))},hasEffect:function(){var t=this,e=["scale","translateX","translateY","translateZ","rotateX","rotateY","rotateZ"],a="",n=null,i=-1,o=-1;if(1!==t._effectsIn.opacity)return!0;for(o=0;a=e[o];o++)if(n=t._effectsIn[a],i="undefined"!==n.value?n.value:n,0!==i)return!0;return!1},_willTransition:function(t,e,n,i){var o=this;return a.isVisible(o._dom.container)?t&&e||n.x!==i.x||n.y!==i.y?!0:o.animation.animateResizeTargets?n.width!==i.width||n.height!==i.height||n.marginRight!==i.marginRight||n.marginTop!==i.marginTop:!1:!1},_checkProgress:function(t){var e=this;e._targetsDone++,e._targetsBound===e._targetsDone&&e._cleanUp(t)},_cleanUp:function(t){var n=this,i=null,o=null,r=-1;for(n._isMixing=!1,n._execAction("_cleanUp",0),n._targetsMoved=0,n._targetsImmovable=0,n._targetsBound=0,n._targetsDone=0,r=0;i=t.show[r];r++)i._cleanUp(),i._show(t.willChangeLayout?t.newDisplay:n.layout.display),i._isShown=!0;for(r=0;i=t.toHide[r];r++)i._cleanUp(),i._hide(),i._isShown=!1;if(t.willSort&&(n._printSort(!1,t),n._targets=t.newOrder),n.animation.animateResizeContainer&&(n._dom.parent.style[e.Mixer.prototype._transitionProp]="",n._dom.parent.style.height="",n._dom.parent.style.width=""),n._dom.parent.style[e.Mixer.prototype._perspectiveProp]="",n._dom.parent.style[e.Mixer.prototype._perspectiveOriginProp]="",t.willChangeLayout&&(a.removeClass(n._dom.container,t.startContainerClass),a.addClass(n._dom.container,t.newContainerClass)),t.toRemove.length){for(r=0;i=n._targets[r];r++)t.toRemove.indexOf(i)>-1&&(a.deleteElement(i._dom.el),n._targets.splice(r,1),r--);n._origOrder=n._targets}n._state=t.newState,n._lastOperation=t,n._dom.targets=n._state.targets,"function"==typeof n._userCallback&&n._userCallback.call(n._dom.el,n._state,n),"function"==typeof n.callbacks.onMixEnd&&n.callbacks.onMixEnd.call(n._dom.el,n._state,n),a.triggerCustom(n._dom.container,"mixEnd",{state:n._state,instance:n},n._dom.document),n._userPromise.resolve(n._state),n._userPromise.isResolved=!0,n._queue.length&&(n._execAction("_queue",0),o=n._queue.shift(),n._userPromise=o[3],n.multiMix.apply(n,o)),n._execAction("_cleanUp",1)},_parseMultiMixArgs:function(t){var a=this,n=new e.UserInstruction,i=null,o=-1;for(n.animate=a.animation.enable,o=0;o<t.length;o++)i=t[o],null!==i&&("object"==typeof i||"string"==typeof i?n.command=i:"boolean"==typeof i?n.animate=i:"function"==typeof i&&(n.callback=i));return a._execFilter("_parseMultiMixArgs",n,arguments)},_parseInsertArgs:function(t){var n=this,i=new e.UserInstruction,o=null,r=-1;for(i.animate=n.animation.enable,i.command={index:0,targets:[],position:"before",sibling:null},r=0;r<t.length;r++)o=t[r],"number"==typeof o?i.command.index=o:"string"==typeof o?i.command.position=o:"object"==typeof o&&a.isElement(o,n._dom.document)?i.command.targets.length?i.command.sibling=o:i.command.targets=[o]:"object"==typeof o&&null!==o&&o.length?i.command.targets.length?i.command.sibling=o[0]:i.command.targets=o:"object"==typeof o&&null!==o&&o.childNodes&&o.childNodes.length?i.command.targets.length?i.command.sibling=o.childNodes[0]:i.command.targets=Array.prototype.slice.call(o.childNodes):"boolean"==typeof o?i.animate=o:"function"==typeof o&&(i.callback=o);if(!i.command.targets.length&&a.canReportErrors(n))throw new Error('[MixItUp] No elements were passed to "insert"');return n._execFilter("_parseInsertArgs",i,arguments)},_parseRemoveArgs:function(t){var n=this,i=new e.UserInstruction,o=[],r=null,s=null,l=-1;for(i.animate=n.animation.enable,i.command={targets:[]},l=0;l<t.length;l++)switch(s=t[l],typeof s){case"number":n._targets[s]&&(i.command.targets[0]=n._targets[s]);break;case"string":o=Array.prototype.slice.call(n._dom.parent.querySelectorAll(s));break;case"object":s&&s.length?o=s:a.isElement(s,n._dom.document)&&(o=[s]);break;case"boolean":i.animate=s;break;case"function":i.callback=s}if(o.length)for(l=0;r=n._targets[l];l++)o.indexOf(r._dom.el)>-1&&i.command.targets.push(r);return n._execFilter("_parseRemoveArgs",i,arguments)},_deferMix:function(t,e){var n=this,i=null;return i=a.getPromise(n.libraries),n.animation.queue&&n._queue.length<n.animation.queueLimit?(t[3]=i,n._queue.push(t),n.controls.enable&&!n._isClicking&&n._updateControls(e.command),n._execAction("multiMixQueue",1,t)):(a.canReportErrors(n)&&console.warn("[MixItUp] An operation was requested but the MixItUp instance was busy. The operation was rejected because queueing is disabled or the queue is full."),i.resolve(n._state),i.isResolved=!0,"function"==typeof n.callbacks.onMixBusy&&n.callbacks.onMixBusy.call(n._dom.container,n._state,n),a.triggerCustom(n._dom.container,"mixBusy",{state:n._state,instance:n}),n._execAction("multiMixBusy",1,t)),i.promise},init:function(){var t=this;return t.multiMix({filter:t._state.activeFilter})},show:function(){var t=this;return t.filter("all")},hide:function(){var t=this;return t.filter("none")},isMixing:function(){var t=this;return t._isMixing},filter:function(){var t=this,e=t._parseMultiMixArgs(arguments);
return t._isClicking&&(t._toggleString=""),t.multiMix({filter:e.command},e.animate,e.callback)},sort:function(){var t=this,e=t._parseMultiMixArgs(arguments);return t.multiMix({sort:e.command},e.animate,e.callback)},changeLayout:function(){},getOperation:function(t){var n=this,i=t.sort,o=t.filter,r=t.changeLayout,s=t.remove,l=t.insert,c=new e.Operation;return c.command=t,c.startState=n._state,c.id=a.randomHexKey(),n._execAction("getOperation",0,c),n._isMixing?null:(l&&n._insert(l,c),s&&(c.toRemove=s.targets),i?(c.startSortString=c.startState.activeSort,c.newSort=n._parseSort(i),c.newSortString=i,(i!==c.startState.activeSortString||"random"===i)&&(c.willSort=!0,n._sort(c))):(c.startSortString=c.newSortString=c.startState.activeSort,c.startOrder=c.newOrder=n._targets),c.startFilter=c.startState.activeFilter,o?c.newFilter="all"===o?n.selectors.target:"none"===o?"":o:c.newFilter=c.startState.activeFilter,n._filter(c),"undefined"!=typeof r&&(c.startDisplay=c.startState.activeDisplay,c.startContainerClass=c.startState.activeContainerClass,c.newDisplay=r.display||c.startDisplay,c.newContainerClass=r.containerClass||c.startContainerClass,(c.newContainerClass!==c.startContainerClass||c.newDisplay!==c.startDisplay)&&(c.willChangeLayout=!0)),n._getStartMixData(c),n._setInter(c),c.docState=a.getDocumentState(),n._getInterMixData(c),n._setFinal(c),n._getFinalMixData(c),n._parseEffects(),c.hasEffect=n.hasEffect(),n._getTweenData(c),c.newState=n._buildState(c),n._execFilter("getOperation",c,arguments))},multiMix:function(){var t=this,e=null,a=!1,n=t._parseMultiMixArgs(arguments);return t._execAction("multiMix",0,arguments),t._isClicking||(t._lastClicked=null),t._isMixing?t._deferMix(arguments,n):(e=t.getOperation(n.command),t.controls.enable&&!t._isClicking&&(t._dom.filterToggleButtons.length&&t._buildToggleArray(),t._updateControls(e.command)),t._queue.length<2&&(t._isClicking=!1),t._userCallback=null,n.callback&&(t._userCallback=n.callback),t._execFilter("multiMix",e,t),t._execAction("multiMix",1,arguments),a=n.animate^t.animation.enable?n.animate:t.animation.enable,t._goMix(a,e))},tween:function(t,e){var a=this,n=null,i=null,o=-1,r=-1;for(e=Math.min(e,1),e=Math.max(e,0),r=0;n=t.show[r];r++)i=t.showPosData[r],n._applyTween(i,e);for(r=0;n=t.hide[r];r++)n._dom.el.style.display&&n.hide(),(o=t.toHide.indexOf(n))>-1&&(i=t.toHidePosData[o],n._dom.el.style.display||n._show(a.layout.display),n._applyTween(i,e))},insert:function(){var t=this,e=t._parseInsertArgs(arguments);return t.multiMix({insert:e.command},e.animate,e.callback)},insertBefore:function(){var t=this,e=t._parseInsertArgs(arguments);return t.insert(e.command.targets,"before",e.command.sibling,e.animate,e.callback)},insertAfter:function(){var t=this,e=t._parseInsertArgs(arguments);return t.insert(e.command.targets,"after",e.command.sibling,e.animate,e.callback)},prepend:function(){var t=this,e=t._parseInsertArgs(arguments);return t.insert(0,e.command.targets,e.animate,e.callback)},append:function(){var t=this,e=t._parseInsertArgs(arguments);return t.insert(t._state.totalTargets,e.command.targets,e.animate,e.callback)},remove:function(){var t=this,e=t._parseRemoveArgs(arguments);return t.multiMix({remove:e.command},e.animate,e.callback)},getOption:function(t){},setOptions:function(t){var e=this;e._execAction("setOptions",0,arguments),e._execAction("setOptions",1,arguments)},getState:function(){var t=this;return t._execFilter("getState",t._state,t)},forceRefresh:function(){var t=this;t._indexTargets()},destroy:function(t){var n=this,i=null,o=null,r=0;for(n._execAction("destroy",0,arguments),n._unbindEvents(),r=0;i=n._targets[r];r++)t&&i.hide(),i._unbindEvents();for(r=0;o=n._dom.allButtons[r];r++)a.removeClass(o,n.controls.activeClass);n._dom.container.id.indexOf("MixItUp")>-1&&n._dom.container.removeAttribute("id"),delete e.Mixer.prototype._instances[n._id],n._execAction("destroy",1,arguments)}}),e.Target=function(){var t=this;t._execAction("_constructor",0,arguments),a.extend(t,{_sortString:"",_mixer:null,_callback:null,_isShown:!1,_isBound:!1,_isExcluded:!1,handler:null,_operation:null,_dom:{el:null}}),t._execAction("_constructor",1,arguments),a.seal(this),a.seal(this._dom)},e.Target.prototype=Object.create(e.basePrototype),a.extend(e.Target.prototype,{constructor:e.Target,_actions:{},_filters:{},_init:function(t,e){var a=this;a._execAction("_init",0,arguments),a._mixer=e,a._cacheDom(t),a._bindEvents(),!!a._dom.el.style.display&&(a._isShown=!0),a._execAction("_init",1,arguments)},_cacheDom:function(t){var e=this;e._execAction("_cacheDom",0,arguments),e._dom.el=t,e._execAction("_cacheDom",1,arguments)},_getSortString:function(t){var e=this,a=e._dom.el.getAttribute("data-"+t)||"";e._execAction("_getSortString",0,arguments),a=isNaN(1*a)?a.toLowerCase():1*a,e._sortString=a,e._execAction("_getSortString",1,arguments)},_show:function(t){var e=this;e._execAction("_show",0,arguments),e._dom.el.style.display&&e._dom.el.style.display===t||(e._dom.el.style.display=t),e._execAction("_show",1,arguments)},hide:function(){var t=this;t._execAction("hide",0,arguments),t._dom.el.style.display="",t._execAction("hide",1,arguments)},_move:function(t){var e=this;e._execAction("_move",0,arguments),e._isExcluded||e._mixer._targetsMoved++,e._applyStylesIn({posIn:t.posIn,hideOrShow:t.hideOrShow}),requestAnimationFrame(function(){e._applyStylesOut(t)}),e._execAction("_move",1,arguments)},_applyTween:function(t,a){var n=this,i="",o=null,r=t.posIn,s=[],l=new e.StyleData,c=-1;for(l.display=n._mixer.layout.display,l.x=r.x,l.y=r.y,0===a?(l.display="none",r.display===l.display&&n.hide()):n._dom.el.style.display||n._show(n._mixer.layout.display),c=0;i=n._mixer._tweenable[c];c++)if(o=t.tweenData[i],"x"===i){if(!o)continue;l.x=r.x+o*a}else if("y"===i){if(!o)continue;l.y=r.y+o*a}else if(o instanceof e.TransformData){if(!o.value)continue;l[i].value=r[i].value+o.value*a,l[i].unit=o.unit,s.push(i+"("+l[i].value+o.unit+")")}else if("display"!==i){if(!o)continue;l[i]=r[i]+o*a,n._dom.el.style[i]=l[i]}(l.x||l.y)&&s.unshift("translate("+l.x+"px, "+l.y+"px)"),s.length&&(n._dom.el.style[e.Mixer.prototype._transformProp]=s.join(" "))},_applyStylesIn:function(t){var a=this,n=t.posIn,i=1!==a._mixer._effectsIn.opacity,o=[];o.push("translate("+n.x+"px, "+n.y+"px)"),!t.hideOrShow&&a._mixer.animation.animateResizemixitup.Targets&&(a._dom.el.style.width=n.width+"px",a._dom.el.style.height=n.height+"px",a._dom.el.style.marginRight=n.marginRight+"px",a._dom.el.style.marginBottom=n.marginBottom+"px"),i&&(a._dom.el.style.opacity=n.opacity),"show"===t.hideOrShow&&(o=o.concat(a._mixer._transformIn)),a._dom.el.style[e.Mixer.prototype._transformProp]=o.join(" ")},_applyStylesOut:function(t){var a=this,n=[],i=[],o=a._mixer.animation.animateResizemixitup.Targets,r="undefined"!=typeof a._mixer._effectsIn.opacity;if(n.push(a._writeTransitionRule(e.Mixer.prototype._transformRule,t.staggerIndex)),t.hideOrShow&&n.push(a._writeTransitionRule("opacity",t.staggerIndex,t.duration)),a._mixer.animation.animateResizemixitup.Targets&&t.posOut.display&&(n.push(a._writeTransitionRule("width",t.staggerIndex,t.duration)),n.push(a._writeTransitionRule("height",t.staggerIndex,t.duration)),n.push(a._writeTransitionRule("margin",t.staggerIndex,t.duration))),!t.callback)return a._mixer._targetsImmovable++,void(a._mixer._targetsMoved===a._mixer._targetsImmovable&&a._mixer._cleanUp(t.operation));switch(a._operation=t.operation,a._callback=t.callback,!a._isExcluded&&a._mixer._targetsBound++,a._isBound=!0,a._applyTransition(n),o&&t.posOut.display&&(a._dom.el.style.width=t.posOut.width+"px",a._dom.el.style.height=t.posOut.height+"px",a._dom.el.style.marginRight=t.posOut.marginRight+"px",a._dom.el.style.marginBottom=t.posOut.marginBottom+"px"),a._mixer.animation.nudgeOut||"hide"!==t.hideOrShow||i.push("translate("+t.posOut.x+"px, "+t.posOut.y+"px)"),t.hideOrShow){case"hide":r&&(a._dom.el.style.opacity=a._mixer._effectsOut.opacity),i=i.concat(a._mixer._transformOut);break;case"show":r&&(a._dom.el.style.opacity=1)}(a._mixer.animation.nudgeOut||!a._mixer.animation.nudgeOut&&"hide"!==t.hideOrShow)&&i.push("translate("+t.posOut.x+"px, "+t.posOut.y+"px)"),a._dom.el.style[e.Mixer.prototype._transformProp]=i.join(" ")},_writeTransitionRule:function(t,e,a){var n=this,i=n._getDelay(e),o="";return o=t+" "+(a||n._mixer.animation.duration)+"ms "+i+"ms "+("opacity"===t?"linear":n._mixer.animation.easing)},_getDelay:function(t){var e=this,a=-1;return"function"==typeof e._mixer.animation.staggerSequence&&(t=e._mixer.animation.staggerSequence.call(e,t,e._state)),a=e._mixer._staggerDuration?t*e._mixer._staggerDuration:0,e._execFilter("_getDelay",a,arguments)},_applyTransition:function(t){var a=this,n=t.join(", ");a._execAction("_transition",0,arguments),a._dom.el.style[e.Mixer.prototype._transitionProp]=n,a._execAction("_transition",1,arguments)},handleTransitionEnd:function(t){var e=this,a=t.propertyName,n=e._mixer.animation.animateResizemixitup.Targets;e._execAction("handleTransitionEnd",0,arguments),e._isBound&&t.target.matches(e._mixer.selectors.target)&&(a.indexOf("transform")>-1||a.indexOf("opacity")>-1||n&&a.indexOf("height")>-1||n&&a.indexOf("width")>-1||n&&a.indexOf("margin")>-1)&&(e._callback.call(e,e._operation),e._isBound=!1,e._callback=null,e._operation=null),e._execAction("handleTransitionEnd",1,arguments)},_eventBus:function(t){var e=this;switch(e._execAction("_eventBus",0,arguments),t.type){case"webkitTransitionEnd":case"transitionend":e.handleTransitionEnd(t)}e._execAction("_eventBus",1,arguments)},_unbindEvents:function(){var t=this;t._execAction("_unbindEvents",0,arguments),a.off(t._dom.el,"webkitTransitionEnd",t.handler),a.off(t._dom.el,"transitionEnd",t.handler),t._execAction("_unbindEvents",1,arguments)},_bindEvents:function(){var t=this,e="webkit"===t._mixer._transitionPrefix?"webkitTransitionEnd":"transitionend";t._execAction("_bindEvents",0,arguments),t.handler=function(e){return t._eventBus(e)},a.on(t._dom.el,e,t.handler),t._execAction("_bindEvents",1,arguments)},_getPosData:function(){var a=this,n={},i=null,o=new e.StyleData;return a._execAction("_getPosData",0,arguments),o.x=a._dom.el.offsetLeft,o.y=a._dom.el.offsetTop,o.display=a._dom.el.style.display||"none",a._mixer.animation.animateResizemixitup.Targets&&(i=a._dom.el.getBoundingClientRect(),n=t.getComputedStyle(a._dom.el),o.width=i.width,o.height=i.height,o.marginBottom=parseFloat(n.marginBottom),o.marginRight=parseFloat(n.marginRight)),a._execFilter("_getPosData",o,arguments)},_cleanUp:function(){var t=this;t._execAction("_cleanUp",0,arguments),t._dom.el.style[e.Mixer.prototype._transformProp]="",t._dom.el.style[e.Mixer.prototype._transitionProp]="",t._dom.el.style.opacity="",t._mixer.animation.animateResizemixitup.Targets&&(t._dom.el.style.width="",t._dom.el.style.height="",t._dom.el.style.marginRight="",t._dom.el.style.marginBottom=""),t._execAction("_cleanUp",1,arguments)}}),e.Collection=function(t){var e=null,a=-1;for(a=0;e=t[a];a++)this[a]=e;this.length=t.length},e.Collection.prototype={constructor:e.Collection,mixitup:function(t){var a=this,n=null,i=Array.prototype.slice.call(arguments),o=[],r=null,s=-1;for(i.shift(),s=0;n=a[s];s++)!r&&n.libraries.q&&(r=n.libraries.q),o.push(n[t].apply(n,i));return r?r.all(o):e.Mixer.prototype._has._promises?Promise.all(o):void 0},mixItUp:function(){return self.mixitup(arguments)}},e.Operation=function(){this._execAction("_constructor",0),this.id="",this.args=[],this.command=null,this.showPosData=[],this.toHidePosData=[],this.startState=null,this.newState=null,this.docState=null,this.willSort=!1,this.willChangeLayout=!1,this.hasEffect=!1,this.show=[],this.hide=[],this.matching=[],this.toShow=[],this.toHide=[],this.toMove=[],this.toRemove=[],this.startOrder=[],this.newOrder=[],this.newSort=null,this.startSortString="",this.newSortString="",this.startFilter=null,this.newFilter=null,this.startHeight=0,this.startWidth=0,this.newHeight=0,this.newWidth=0,this.startContainerClass="",this.startDisplay="",this.newContainerClass="",this.newDisplay="",this._execAction("_constructor",1),a.seal(this)},e.Operation.prototype=Object.create(e.basePrototype),a.extend(e.Operation.prototype,{_actions:{},_filters:{}}),e.State=function(){this._execAction("_constructor",0),this.activeFilter="",this.activeSort="",this.activeDisplay="",this.activeContainerClass="",this.targets=[],this.hide=[],this.show=[],this.matching=[],this.totalTargets=-1,this.totalShow=-1,this.totalHide=-1,this.totalMatching=-1,this.hasFailed=!1,this.triggerElement=null,this._execAction("_constructor",1),a.seal(this)},e.State.prototype=Object.create(e.basePrototype),a.extend(e.State.prototype,{_actions:{},_filters:{}}),e.StyleData=function(){this._execAction("_constructor",0),this.x=0,this.y=0,this.width=0,this.height=0,this.marginRight=0,this.marginBottom=0,this.opacity=0,this.display="",this.scale=new e.TransformData,this.translateX=new e.TransformData,this.translateY=new e.TransformData,this.translateZ=new e.TransformData,this.rotateX=new e.TransformData,this.rotateY=new e.TransformData,this.rotateZ=new e.TransformData,this._execAction("_constructor",1),a.seal(this)},e.StyleData.prototype=Object.create(e.basePrototype),a.extend(e.StyleData.prototype,{_actions:{},_filters:{}}),e.TransformData=function(){this._execAction("_constructor",0),this.value=0,this.unit="",this._execAction("_constructor",1),a.seal(this)},e.TransformData.prototype=Object.create(e.basePrototype),a.extend(e.TransformData.prototype,{_actions:{},_filters:{}}),e.UserInstruction=function(){this._execAction("_constructor",0),this.command={},this.animate=!1,this.callback=null,this._execAction("_constructor",1),a.seal(this)},e.UserInstruction.prototype=Object.create(e.basePrototype),a.extend(e.UserInstruction.prototype,{_actions:{},_filters:{}}),e.Mixer.prototype._featureDetect(),"object"==typeof exports&&"object"==typeof module?module.exports=e:"function"==typeof define&&define.amd?define(function(){return e}):("undefined"==typeof t.mixitup||"function"!=typeof t.mixitup)&&(t.mixitup=t.mixItUp=e)}(window);